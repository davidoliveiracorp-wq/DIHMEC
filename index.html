<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <!--
    Modified from the Debian original for Ubuntu
    Last updated: 2022-03-22
    See: https://launchpad.net/bugs/1966004
  -->
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Cadastro de Clientes e Ve√≠culos</title>
    <style type="text/css" media="screen">
  * {
    margin: 0px 0px 0px 0px;
    padding: 0px 0px 0px 0px;
  }

  body, html {
    padding: 0px;
    margin: 0px;
    background-color: #D8DBE2;
    font-family: Ubuntu, Verdana, sans-serif;
    font-size: 11pt;
    text-align: left;
    height: 100%;
  }

  .container {
    display: flex;
    min-height: 100vh;
  }

  /* Menu Lateral */
  .sidebar {
    width: 250px;
    background-color: #FFFFFF;
    color: #212738;
    padding: 0;
    box-shadow: 2px 0 5px rgba(0,0,0,0.1);
    position: fixed;
    height: 100vh;
    overflow-y: auto;
    border-right: 1px solid #E0E0E0;
  }

  .sidebar-logo {
    padding: 15px;
    background-color: #000000;
    border-bottom: 2px solid #E9510E;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 140px;
    max-height: 180px;
  }

  .sidebar-logo img {
    max-width: 100%;
    max-height: 150px;
    height: auto;
    width: auto;
    object-fit: contain;
    display: block;
  }

  .sidebar-logo-text {
    display: none;
    font-size: 28pt;
    font-weight: bold;
    letter-spacing: 3px;
    color: #FFFFFF;
    margin: 0;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
  }

  .sidebar-header {
    padding: 15px 20px;
    background-color: #FFFFFF;
    border-bottom: 1px solid #E0E0E0;
  }

  .sidebar-header h2 {
    margin: 0;
    font-size: 16pt;
    color: #212738;
    text-align: center;
  }

  .sidebar-menu {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .sidebar-menu li {
    border-bottom: 1px solid #E0E0E0;
  }

  .sidebar-menu a {
    display: block;
    padding: 15px 20px;
    color: #212738;
    text-decoration: none;
    transition: background-color 0.3s;
    font-size: 11pt;
  }

  .sidebar-menu a:hover {
    background-color: #F5F6F7;
    color: #E9510E;
  }

  .sidebar-menu a.active {
    background-color: #E9510E;
    color: #FFFFFF;
  }

  /* Conte√∫do Principal */
  .main-content {
    margin-left: 250px;
    flex: 1;
    padding: 20px;
  }

  div.main_page {
    position: relative;
    display: table;
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0px;
    border-width: 2px;
    border-color: #212738;
    border-style: solid;
    background-color: #FFFFFF;
    text-align: center;
  }

  div.page_header {
    min-height: 180px;
    width: 100%;
    background-color: #F5F6F7;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
    padding: 32px 0;
    position: relative;
  }

  .logo-container {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
  }

  .logo-image {
    max-width: 200px;
    max-height: 120px;
    height: auto;
    width: auto;
    object-fit: contain;
  }

  div.page_header span {
    margin: 0;
    font-size: 180%;
    font-weight: bold;
  }

  div.banner {
    padding: 12px 24px;
    background-color: #E9510E;
    color: #FFFFFF;
    font-weight: bold;
    font-size: 112%;
    text-align: center;
    position: relative;
    width: auto;
    min-width: 180px;
    border-radius: 6px;
  }

  div.table_of_contents {
    clear: left;

    min-width: 200px;

    margin: 3px 3px 3px 3px;

    background-color: #FFFFFF;

    text-align: left;
  }

  div.table_of_contents_item {
    clear: left;

    width: 100%;

    margin: 4px 0px 0px 0px;

    background-color: #FFFFFF;

    color: #000000;
    text-align: left;
  }

  div.table_of_contents_item a {
    margin: 6px 0px 0px 6px;
  }

  div.content_section {
    margin: 3px 3px 3px 3px;
    background-color: #FFFFFF;
    text-align: left;
    width: 100%;
    clear: both;
  }

  div.content_section_text {
    padding: 4px 8px 4px 8px;

    color: #000000;
    font-size: 100%;
  }

  div.content_section_text pre {
    margin: 8px 0px 8px 0px;
    padding: 8px 8px 8px 8px;

    border-width: 1px;
    border-style: dotted;
    border-color: #000000;

    background-color: #F5F6F7;

    font-style: italic;
  }

  div.content_section_text p {
    margin-bottom: 6px;
  }

  div.content_section_text ul, div.content_section_text li {
    padding: 4px 8px 4px 16px;
  }

  div.section_header {
    padding: 3px 6px 3px 6px;

    background-color: #8E9CB2;

    color: #FFFFFF;
    font-weight: bold;
    font-size: 112%;
    text-align: center;
  }

  div.section_header_grey {
    background-color: #9F9386;
  }

  .floating_element {
    position: relative;
    float: left;
  }

  div.table_of_contents_item a,
  div.content_section_text a {
    text-decoration: none;
    font-weight: bold;
  }

  div.table_of_contents_item a:link,
  div.table_of_contents_item a:visited,
  div.table_of_contents_item a:active {
    color: #000000;
  }

  div.table_of_contents_item a:hover {
    background-color: #000000;

    color: #FFFFFF;
  }

  div.content_section_text a:link,
  div.content_section_text a:visited,
   div.content_section_text a:active {
    background-color: #DCDFE6;

    color: #000000;
  }

  div.content_section_text a:hover {
    background-color: #000000;

    color: #DCDFE6;
  }

  form.customer_form {
    display: grid;
    gap: 20px;
    margin-top: 16px;
  }

  .form-section {
    background-color: #F5F6F7;
    border: 1px solid #CED4DA;
    border-radius: 6px;
    padding: 16px;
  }

  .form-section h2 {
    margin-bottom: 12px;
    font-size: 120%;
    color: #212738;
  }

  .form-group {
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-bottom: 12px;
  }

  .form-group label {
    font-weight: bold;
    color: #333333;
  }

  .form-group input {
    padding: 10px 12px;
    border: 1px solid #B0B5C0;
    border-radius: 4px;
    font-size: 100%;
  }

  .form-group input:focus {
    outline: none;
    border-color: #4A90E2;
    box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
  }

  .form-actions {
    display: flex;
    justify-content: flex-end;
    gap: 12px;
  }

  .form-actions button {
    padding: 12px 24px;
    font-size: 100%;
    font-weight: bold;
    border: none;
    border-radius: 4px;
    cursor: pointer;
  }

  .form-actions button[type="submit"] {
    background-color: #4A90E2;
    color: #FFFFFF;
  }

  .form-actions button[type="reset"] {
    background-color: #9BA4B5;
    color: #FFFFFF;
  }

  .form-actions button:hover {
    opacity: 0.9;
  }

  /* Controle de visibilidade dos formul√°rios */
  .form-container {
    display: none;
  }

  .form-container.active {
    display: block;
  }

  .form-container.active .customers-list {
    display: block;
  }

  .form-group textarea {
    padding: 10px 12px;
    border: 1px solid #B0B5C0;
    border-radius: 4px;
    font-size: 100%;
    font-family: inherit;
    resize: vertical;
    min-height: 80px;
  }

  .form-group textarea:focus {
    outline: none;
    border-color: #4A90E2;
    box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
  }

  .form-group select {
    padding: 10px 12px;
    border: 1px solid #B0B5C0;
    border-radius: 4px;
    font-size: 100%;
    background-color: #FFFFFF;
  }

  .form-group select:focus {
    outline: none;
    border-color: #4A90E2;
    box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
  }

  /* Lista de Clientes */
  .customers-list {
    margin-top: 30px;
    background-color: #FFFFFF;
    border: 1px solid #CED4DA;
    border-radius: 6px;
    overflow: hidden;
  }

  .customers-list-header {
    background-color: #8E9CB2;
    color: #FFFFFF;
    padding: 12px 16px;
    font-weight: bold;
    font-size: 112%;
  }

  .customers-table {
    width: 100%;
    border-collapse: collapse;
  }

  .customers-table thead {
    background-color: #F5F6F7;
  }

  .customers-table th {
    padding: 12px 16px;
    text-align: left;
    font-weight: bold;
    color: #212738;
    border-bottom: 2px solid #CED4DA;
  }

  .customers-table td {
    padding: 12px 16px;
    border-bottom: 1px solid #E9ECEF;
    color: #333333;
  }

  .customers-table tbody tr:hover {
    background-color: #F8F9FA;
  }

  .customers-table tbody tr:last-child td {
    border-bottom: none;
  }

  .action-buttons {
    display: flex;
    gap: 8px;
  }

  .btn-action {
    padding: 6px 12px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 11pt;
    font-weight: bold;
  }

  .btn-edit {
    background-color: #4A90E2;
    color: #FFFFFF;
  }

  .btn-delete {
    background-color: #DC3545;
    color: #FFFFFF;
  }

  .btn-action:hover {
    opacity: 0.9;
  }

  .empty-state {
    padding: 40px;
    text-align: center;
    color: #6C757D;
  }

  /* Campo de Pesquisa */
  .search-container {
    margin-top: 30px;
    margin-bottom: 20px;
    background-color: #F5F6F7;
    border: 1px solid #CED4DA;
    border-radius: 6px;
    padding: 16px;
  }

  .search-container h3 {
    margin: 0 0 12px 0;
    font-size: 112%;
    color: #212738;
  }

  .search-box {
    display: flex;
    gap: 12px;
    align-items: center;
  }

  .search-input-wrapper {
    flex: 1;
    position: relative;
  }

  .search-input {
    width: 100%;
    padding: 12px 16px 12px 40px;
    border: 1px solid #B0B5C0;
    border-radius: 4px;
    font-size: 100%;
  }

  .search-input:focus {
    outline: none;
    border-color: #4A90E2;
    box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.2);
  }

  .search-icon {
    position: absolute;
    left: 12px;
    top: 50%;
    transform: translateY(-50%);
    color: #6C757D;
    font-size: 16px;
  }

  .search-filters {
    display: flex;
    gap: 8px;
    margin-top: 12px;
    flex-wrap: wrap;
  }

  .filter-btn {
    padding: 6px 12px;
    border: 1px solid #B0B5C0;
    border-radius: 4px;
    background-color: #FFFFFF;
    color: #333333;
    cursor: pointer;
    font-size: 10pt;
    transition: all 0.3s;
  }

  .filter-btn:hover {
    background-color: #E9ECEF;
  }

  .filter-btn.active {
    background-color: #4A90E2;
    color: #FFFFFF;
    border-color: #4A90E2;
  }

  .clear-search {
    padding: 12px 24px;
    border: 1px solid #B0B5C0;
    border-radius: 4px;
    background-color: #FFFFFF;
    color: #333333;
    cursor: pointer;
    font-size: 100%;
    font-weight: bold;
  }

  .clear-search:hover {
    background-color: #E9ECEF;
  }

  /* Bot√£o de Toggle Dia/Noite */
  .theme-toggle {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 1000;
    background-color: #212738;
    color: #FFFFFF;
    border: 2px solid #E9510E;
    border-radius: 50px;
    padding: 10px 18px;
    cursor: pointer;
    font-size: 12pt;
    font-weight: bold;
    box-shadow: 0 4px 6px rgba(0,0,0,0.3);
    transition: all 0.3s;
    display: flex;
    align-items: center;
    gap: 8px;
    min-width: 140px;
    justify-content: center;
  }

  .theme-toggle:hover {
    background-color: #E9510E;
    transform: scale(1.05);
    box-shadow: 0 6px 8px rgba(0,0,0,0.4);
  }

  .theme-toggle:active {
    transform: scale(0.98);
  }

  /* Modo Escuro */
  body.dark-mode {
    background-color: #1a1a1a;
    color: #E0E0E0;
  }

  body.dark-mode .main-content {
    background-color: #1a1a1a;
  }

  body.dark-mode div.main_page {
    background-color: #2d2d2d;
    border-color: #444444;
  }

  body.dark-mode div.page_header {
    background-color: #2d2d2d;
  }

  body.dark-mode div.page_header span {
    color: #E0E0E0;
  }

  body.dark-mode div.banner {
    background-color: #E9510E;
  }

  body.dark-mode div.content_section {
    background-color: #2d2d2d;
  }

  body.dark-mode div.content_section_text {
    color: #E0E0E0;
  }

  body.dark-mode div.section_header {
    background-color: #3d3d3d;
    color: #E0E0E0;
  }

  body.dark-mode .form-section {
    background-color: #3d3d3d;
    border-color: #555555;
  }

  body.dark-mode .form-section h2 {
    color: #E0E0E0;
  }

  body.dark-mode .form-group label {
    color: #E0E0E0;
  }

  body.dark-mode .form-group input,
  body.dark-mode .form-group textarea,
  body.dark-mode .form-group select {
    background-color: #2d2d2d;
    border-color: #555555;
    color: #E0E0E0;
  }

  body.dark-mode .form-group input:focus,
  body.dark-mode .form-group textarea:focus,
  body.dark-mode .form-group select:focus {
    border-color: #E9510E;
    background-color: #3d3d3d;
  }

  body.dark-mode .search-container {
    background-color: #3d3d3d;
    border-color: #555555;
  }

  body.dark-mode .search-container h3 {
    color: #E0E0E0;
  }

  body.dark-mode .search-input {
    background-color: #2d2d2d;
    border-color: #555555;
    color: #E0E0E0;
  }

  body.dark-mode .search-input:focus {
    border-color: #E9510E;
    background-color: #3d3d3d;
  }

  body.dark-mode .filter-btn {
    background-color: #2d2d2d;
    border-color: #555555;
    color: #E0E0E0;
  }

  body.dark-mode .filter-btn:hover {
    background-color: #3d3d3d;
  }

  body.dark-mode .filter-btn.active {
    background-color: #E9510E;
    color: #FFFFFF;
  }

  body.dark-mode .clear-search {
    background-color: #2d2d2d;
    border-color: #555555;
    color: #E0E0E0;
  }

  body.dark-mode .clear-search:hover {
    background-color: #3d3d3d;
  }

  body.dark-mode .customers-list {
    background-color: #2d2d2d;
    border-color: #555555;
  }

  body.dark-mode .customers-list-header {
    background-color: #3d3d3d;
    color: #E0E0E0;
  }

  body.dark-mode .customers-table thead {
    background-color: #3d3d3d;
  }

  body.dark-mode .customers-table th {
    background-color: #3d3d3d;
    color: #E0E0E0;
    border-bottom-color: #555555;
  }

  body.dark-mode .customers-table td {
    color: #E0E0E0;
    border-bottom-color: #444444;
  }

  body.dark-mode .customers-table tbody tr:hover {
    background-color: #3d3d3d;
  }

  body.dark-mode .customers-table tfoot {
    background-color: #3d3d3d;
  }

  body.dark-mode .customers-table tfoot td {
    color: #E0E0E0;
  }

  body.dark-mode .btn-action {
    color: #FFFFFF;
  }

  body.dark-mode .form-actions button[type="reset"] {
    background-color: #555555;
    color: #E0E0E0;
  }

  body.dark-mode .form-actions button[type="reset"]:hover {
    background-color: #666666;
  }

  body.dark-mode .sidebar {
    background-color: #2d2d2d;
    border-right: 1px solid #444444;
  }

  body.dark-mode .sidebar-logo {
    background-color: #000000;
    border-bottom-color: #E9510E;
  }

  body.dark-mode .sidebar-logo-text {
    color: #FFFFFF !important;
  }

  body.dark-mode #logo-text {
    color: #E0E0E0 !important;
  }

  body.dark-mode .sidebar-header {
    background-color: #2d2d2d;
    border-bottom-color: #444444;
  }

  body.dark-mode .sidebar-header h2 {
    color: #E0E0E0;
  }

  body.dark-mode .sidebar-menu li {
    border-bottom-color: #444444;
  }

  body.dark-mode .sidebar-menu a {
    color: #E0E0E0;
  }

  body.dark-mode .sidebar-menu a:hover {
    background-color: #3d3d3d;
    color: #E9510E;
  }

  body.dark-mode .sidebar-menu a.active {
    background-color: #E9510E;
    color: #FFFFFF;
  }

  body.dark-mode .logo-container h1 {
    color: #E0E0E0;
  }

  body.dark-mode div.content_section_text pre {
    background-color: #3d3d3d;
    border-color: #555555;
    color: #E0E0E0;
  }

  body.dark-mode div.content_section_text a:link,
  body.dark-mode div.content_section_text a:visited,
  body.dark-mode div.content_section_text a:active {
    background-color: #3d3d3d;
    color: #E0E0E0;
  }

  body.dark-mode div.content_section_text a:hover {
    background-color: #E9510E;
    color: #FFFFFF;
  }

  body.dark-mode .empty-state {
    color: #999999;
  }

  /* Estilos para formul√°rio de OS */
  .os-item-qty,
  .os-item-desc,
  .os-item-price {
    border: 1px solid #B0B5C0;
    border-radius: 4px;
  }

  .os-item-qty:focus,
  .os-item-desc:focus,
  .os-item-price:focus {
    outline: none;
    border-color: #4A90E2;
    box-shadow: 0 0 0 2px rgba(74, 144, 226, 0.2);
  }

  body.dark-mode .os-item-qty,
  body.dark-mode .os-item-desc,
  body.dark-mode .os-item-price {
    background-color: #2d2d2d;
    border-color: #555555;
    color: #E0E0E0;
  }

  body.dark-mode .os-item-qty:focus,
  body.dark-mode .os-item-desc:focus,
  body.dark-mode .os-item-price:focus {
    border-color: #E9510E;
    background-color: #3d3d3d;
  }

  input[type="radio"] {
    margin-right: 5px;
    cursor: pointer;
  }

  label {
    cursor: pointer;
  }
    </style>
  </head>
  <body>
    <!-- Bot√£o de Toggle Dia/Noite -->
    <button class="theme-toggle" id="theme-toggle" onclick="toggleTheme()" title="Alternar entre modo claro e escuro">
      <span id="theme-icon">üåô</span>
      <span id="theme-text">Modo Escuro</span>
    </button>

    <div class="container">
      <!-- Menu Lateral -->
      <aside class="sidebar">
        <div class="sidebar-logo">
          <img src="logo-dihmec.png" alt="DIHMEC Logo" id="sidebar-logo-img" onerror="handleSidebarLogoError()" />
          <img src="dihmec-logo.png" alt="DIHMEC Logo" id="sidebar-logo-img-alt" style="display: none;" onerror="handleSidebarLogoError()" />
          <h1 class="sidebar-logo-text" id="sidebar-logo-text">DIHMEC</h1>
        </div>
        <div class="sidebar-header">
          <h2>Menu</h2>
        </div>
        <ul class="sidebar-menu">
          <li><a href="#" class="menu-item active" data-form="cadastro-cliente">Cadastro de Cliente</a></li>
          <li><a href="#" class="menu-item" data-form="veiculos">Ve√≠culos</a></li>
          <li><a href="#" class="menu-item" data-form="produtos-estoque">Produtos/Estoque</a></li>
          <li><a href="#" class="menu-item" data-form="valores-receber">Valores a Receber</a></li>
          <li><a href="#" class="menu-item" data-form="valores-pago">Valores Pago</a></li>
          <li><a href="#" class="menu-item" data-form="checklist">Checklist do Carro</a></li>
          <li><a href="#" class="menu-item" data-form="nova-os">Nova Ordem de Servi√ßo</a></li>
          <li><a href="#" class="menu-item" data-form="cancelar-os">Cancelar Ordem de Servi√ßo</a></li>
          <li><a href="#" class="menu-item" data-form="finalizar-os">Finalizar Ordem de Servi√ßo</a></li>
          <li><a href="#" class="menu-item" data-form="pesquisar-os">Pesquisar OS Pendente</a></li>
          <li><a href="#" class="menu-item" data-form="pesquisa-placa">Pesquisa por Placa</a></li>
          <li><a href="#" class="menu-item" data-form="relatorio-os">Relat√≥rio de Ordem de Servi√ßo</a></li>
        </ul>
      </aside>

      <!-- Conte√∫do Principal -->
      <main class="main-content">
    <div class="main_page">

          <div class="page_header">
            <div class="logo-container">
              <img src="logo-dihmec.png" alt="DIHMEC Logo" class="logo-image" id="logo-img" onerror="handleLogoError()" />
              <h1 id="logo-text" style="display: none; color: #212738; font-size: 32pt; font-weight: bold; letter-spacing: 2px; margin: 0;">DIHMEC</h1>
            </div>
            <div>
              <span id="page-title">
                Cadastro de Clientes
              </span>
            </div>
            <div class="banner">
              <div id="about"></div>
              <span id="page-subtitle">Formul√°rio</span>
            </div>

          </div>
      <div class="content_section floating_element">
        <div class="section_header">
          <div id="changes"></div>
              <span id="section-title">Dados do Cliente e Ve√≠culo</span>
        </div>
        <div class="content_section_text">
              <p id="section-description">
                Preencha as informa√ß√µes do cliente e do ve√≠culo para efetuar o cadastro.
              </p>

              <!-- Formul√°rio: Cadastro de Cliente -->
              <div class="form-container active" id="form-cadastro-cliente">
                <form class="customer_form" action="#" method="post">
                  <div class="form-section">
                    <h2>Dados do Cliente</h2>
                    <div class="form-group">
                      <label for="customer-name">Nome completo</label>
                      <input type="text" id="customer-name" name="customerName" placeholder="Ex.: Maria Souza" required />
                    </div>
                    <div class="form-group">
                      <label for="customer-email">E-mail</label>
                      <input type="email" id="customer-email" name="customerEmail" placeholder="Ex.: maria@email.com" required />
                    </div>
                    <div class="form-group">
                      <label for="customer-phone">Telefone</label>
                      <input type="tel" id="customer-phone" name="customerPhone" placeholder="Ex.: (11) 99999-0000" />
                    </div>
                  </div>

                  <div class="form-section">
                    <h2>Dados do Ve√≠culo</h2>
                    <div class="form-group">
                      <label for="vehicle-plate">Placa</label>
                      <input type="text" id="vehicle-plate" name="vehiclePlate" placeholder="Ex.: ABC1D23" pattern="[A-Za-z]{3}[0-9][A-Za-z0-9][0-9]{2}" maxlength="7" required />
        </div>
                    <div class="form-group">
                      <label for="vehicle-model">Modelo</label>
                      <input type="text" id="vehicle-model" name="vehicleModel" placeholder="Ex.: Civic Touring" required />
        </div>
                    <div class="form-group">
                      <label for="vehicle-brand">Marca</label>
                      <input type="text" id="vehicle-brand" name="vehicleBrand" placeholder="Ex.: Honda" required />
                    </div>
                    <div class="form-group">
                      <label for="vehicle-year">Ano</label>
                      <input type="number" id="vehicle-year" name="vehicleYear" placeholder="Ex.: 2022" min="1950" max="2099" />
                    </div>
                    <div class="form-group">
                      <label for="vehicle-color">Cor</label>
                      <input type="text" id="vehicle-color" name="vehicleColor" placeholder="Ex.: Prata" />
                    </div>
                  </div>

                  <div class="form-actions">
                    <button type="reset">Limpar</button>
                    <button type="submit">Salvar Cadastro</button>
                  </div>
                </form>

                <!-- Campo de Pesquisa -->
                <div class="search-container">
                  <h3>Pesquisar Clientes</h3>
                  <div class="search-box">
                    <div class="search-input-wrapper">
                      <span class="search-icon">üîç</span>
                      <input 
                        type="text" 
                        id="search-customer" 
                        class="search-input" 
                        placeholder="Digite para pesquisar por nome, e-mail, telefone, placa, modelo ou marca..."
                        onkeyup="filterCustomers()"
                      />
                    </div>
                    <button class="clear-search" onclick="clearSearch()">Limpar</button>
                  </div>
                  <div class="search-filters">
                    <button class="filter-btn active" data-filter="all" onclick="setFilter('all')">Todos</button>
                    <button class="filter-btn" data-filter="name" onclick="setFilter('name')">Nome</button>
                    <button class="filter-btn" data-filter="email" onclick="setFilter('email')">E-mail</button>
                    <button class="filter-btn" data-filter="phone" onclick="setFilter('phone')">Telefone</button>
                    <button class="filter-btn" data-filter="plate" onclick="setFilter('plate')">Placa</button>
                    <button class="filter-btn" data-filter="model" onclick="setFilter('model')">Modelo</button>
                    <button class="filter-btn" data-filter="brand" onclick="setFilter('brand')">Marca</button>
                  </div>
                </div>

                <!-- Lista de Clientes Cadastrados -->
                <div class="customers-list">
                  <div class="customers-list-header">
                    Clientes Cadastrados
                  </div>
                  <table class="customers-table">
                    <thead>
                      <tr>
                        <th>Nome</th>
                        <th>E-mail</th>
                        <th>Telefone</th>
                        <th>Placa</th>
                        <th>Modelo</th>
                        <th>Marca</th>
                        <th>Ano</th>
                        <th>Cor</th>
                        <th>A√ß√µes</th>
                      </tr>
                    </thead>
                    <tbody id="customers-table-body">
                      <tr>
                        <td>Maria Souza</td>
                        <td>maria.souza@email.com</td>
                        <td>(11) 99999-1234</td>
                        <td>ABC1D23</td>
                        <td>Civic Touring</td>
                        <td>Honda</td>
                        <td>2022</td>
                        <td>Prata</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editCustomer(1)">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteCustomer(1)">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>Jo√£o Silva</td>
                        <td>joao.silva@email.com</td>
                        <td>(11) 98888-5678</td>
                        <td>XYZ9A87</td>
                        <td>Corolla XEi</td>
                        <td>Toyota</td>
                        <td>2021</td>
                        <td>Branco</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editCustomer(2)">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteCustomer(2)">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>Ana Costa</td>
                        <td>ana.costa@email.com</td>
                        <td>(11) 97777-9012</td>
                        <td>DEF5G45</td>
                        <td>Onix Plus</td>
                        <td>Chevrolet</td>
                        <td>2023</td>
                        <td>Preto</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editCustomer(3)">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteCustomer(3)">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>Pedro Santos</td>
                        <td>pedro.santos@email.com</td>
                        <td>(11) 96666-3456</td>
                        <td>GHI7H89</td>
                        <td>HB20 Vision</td>
                        <td>Hyundai</td>
                        <td>2020</td>
                        <td>Vermelho</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editCustomer(4)">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteCustomer(4)">Excluir</button>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Formul√°rio: Ve√≠culos -->
              <div class="form-container" id="form-veiculos">
                <!-- Campo de Pesquisa -->
                <div class="search-container">
                  <h3>Pesquisar Ve√≠culos</h3>
                  <div class="search-box">
                    <div class="search-input-wrapper">
                      <span class="search-icon">üîç</span>
                      <input 
                        type="text" 
                        id="search-vehicle" 
                        class="search-input" 
                        placeholder="Digite para pesquisar por placa, modelo, marca, cliente..."
                        onkeyup="filterVehicles()"
                      />
                    </div>
                    <button class="clear-search" onclick="clearVehicleSearch()">Limpar</button>
                  </div>
                  <div class="search-filters">
                    <button class="filter-btn active" data-filter-vehicle="all" onclick="setVehicleFilter('all')">Todos</button>
                    <button class="filter-btn" data-filter-vehicle="plate" onclick="setVehicleFilter('plate')">Placa</button>
                    <button class="filter-btn" data-filter-vehicle="model" onclick="setVehicleFilter('model')">Modelo</button>
                    <button class="filter-btn" data-filter-vehicle="brand" onclick="setVehicleFilter('brand')">Marca</button>
                    <button class="filter-btn" data-filter-vehicle="year" onclick="setVehicleFilter('year')">Ano</button>
                    <button class="filter-btn" data-filter-vehicle="color" onclick="setVehicleFilter('color')">Cor</button>
                    <button class="filter-btn" data-filter-vehicle="customer" onclick="setVehicleFilter('customer')">Cliente</button>
                  </div>
                </div>

                <div class="customers-list">
                  <div class="customers-list-header">
                    Ve√≠culos Cadastrados
                  </div>
                  <table class="customers-table">
                    <thead>
                      <tr>
                        <th>Placa</th>
                        <th>Modelo</th>
                        <th>Marca</th>
                        <th>Ano</th>
                        <th>Cor</th>
                        <th>Cliente</th>
                        <th>Telefone</th>
                        <th>A√ß√µes</th>
                      </tr>
                    </thead>
                    <tbody id="vehicles-table-body">
                      <tr>
                        <td>ABC1D23</td>
                        <td>Civic Touring</td>
                        <td>Honda</td>
                        <td>2022</td>
                        <td>Prata</td>
                        <td>Maria Souza</td>
                        <td>(11) 99999-1234</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editVehicle('ABC1D23')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteVehicle('ABC1D23')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>XYZ9A87</td>
                        <td>Corolla XEi</td>
                        <td>Toyota</td>
                        <td>2021</td>
                        <td>Branco</td>
                        <td>Jo√£o Silva</td>
                        <td>(11) 98888-5678</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editVehicle('XYZ9A87')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteVehicle('XYZ9A87')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>DEF5G45</td>
                        <td>Onix Plus</td>
                        <td>Chevrolet</td>
                        <td>2023</td>
                        <td>Preto</td>
                        <td>Ana Costa</td>
                        <td>(11) 97777-9012</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editVehicle('DEF5G45')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteVehicle('DEF5G45')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>GHI7H89</td>
                        <td>HB20 Vision</td>
                        <td>Hyundai</td>
                        <td>2020</td>
                        <td>Vermelho</td>
                        <td>Pedro Santos</td>
                        <td>(11) 96666-3456</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editVehicle('GHI7H89')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteVehicle('GHI7H89')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Formul√°rio: Produtos/Estoque -->
              <div class="form-container" id="form-produtos-estoque">
                <!-- Campo de Pesquisa -->
                <div class="search-container">
                  <h3>Pesquisar Produtos</h3>
                  <div class="search-box">
                    <div class="search-input-wrapper">
                      <span class="search-icon">üîç</span>
                      <input 
                        type="text" 
                        id="search-product" 
                        class="search-input" 
                        placeholder="Digite para pesquisar por nome, categoria, c√≥digo..."
                        onkeyup="filterProducts()"
                      />
                    </div>
                    <button class="clear-search" onclick="clearProductSearch()">Limpar</button>
                  </div>
                  <div class="search-filters">
                    <button class="filter-btn active" data-filter-product="all" onclick="setProductFilter('all')">Todos</button>
                    <button class="filter-btn" data-filter-product="name" onclick="setProductFilter('name')">Nome</button>
                    <button class="filter-btn" data-filter-product="category" onclick="setProductFilter('category')">Categoria</button>
                    <button class="filter-btn" data-filter-product="code" onclick="setProductFilter('code')">C√≥digo</button>
                  </div>
                </div>

                <div class="customers-list">
                  <div class="customers-list-header">
                    Produtos e Estoque
                  </div>
                  <table class="customers-table">
                    <thead>
                      <tr>
                        <th>C√≥digo</th>
                        <th>Produto</th>
                        <th>Categoria</th>
                        <th>Quantidade</th>
                        <th>Unidade</th>
                        <th>Pre√ßo Unit.</th>
                        <th>Valor Total</th>
                        <th>Status</th>
                        <th>A√ß√µes</th>
                      </tr>
                    </thead>
                    <tbody id="products-table-body">
                      <tr>
                        <td>OLEO-001</td>
                        <td>√ìleo Motor 5W30 Sint√©tico 5L</td>
                        <td>Lubrificantes</td>
                        <td>24</td>
                        <td>Un</td>
                        <td>R$ 89,90</td>
                        <td>R$ 2.157,60</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('OLEO-001')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('OLEO-001')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>FILT-002</td>
                        <td>Filtro de √ìleo Universal</td>
                        <td>Filtros</td>
                        <td>45</td>
                        <td>Un</td>
                        <td>R$ 18,50</td>
                        <td>R$ 832,50</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('FILT-002')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('FILT-002')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>PAST-003</td>
                        <td>Pastilha de Freio Dianteira</td>
                        <td>Freios</td>
                        <td>32</td>
                        <td>Un</td>
                        <td>R$ 125,00</td>
                        <td>R$ 4.000,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('PAST-003')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('PAST-003')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>DISK-004</td>
                        <td>Disco de Freio Dianteiro</td>
                        <td>Freios</td>
                        <td>18</td>
                        <td>Un</td>
                        <td>R$ 185,00</td>
                        <td>R$ 3.330,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('DISK-004')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('DISK-004')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>BAT-005</td>
                        <td>Bateria 60Ah 12V</td>
                        <td>El√©trica</td>
                        <td>12</td>
                        <td>Un</td>
                        <td>R$ 320,00</td>
                        <td>R$ 3.840,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('BAT-005')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('BAT-005')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>PNEU-006</td>
                        <td>Pneu 185/65 R15</td>
                        <td>Pneus</td>
                        <td>28</td>
                        <td>Un</td>
                        <td>R$ 350,00</td>
                        <td>R$ 9.800,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('PNEU-006')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('PNEU-006')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>AMOR-007</td>
                        <td>Amortecedor Dianteiro</td>
                        <td>Suspens√£o</td>
                        <td>15</td>
                        <td>Un</td>
                        <td>R$ 280,00</td>
                        <td>R$ 4.200,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('AMOR-007')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('AMOR-007')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>CORR-008</td>
                        <td>Correia Dentada</td>
                        <td>Motor</td>
                        <td>22</td>
                        <td>Un</td>
                        <td>R$ 95,00</td>
                        <td>R$ 2.090,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('CORR-008')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('CORR-008')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>RADI-009</td>
                        <td>Radiador Universal</td>
                        <td>Arrefecimento</td>
                        <td>8</td>
                        <td>Un</td>
                        <td>R$ 450,00</td>
                        <td>R$ 3.600,00</td>
                        <td><span style="color: #F39C12; font-weight: bold;">Estoque Baixo</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('RADI-009')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('RADI-009')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>BOMB-010</td>
                        <td>Bomba de Combust√≠vel</td>
                        <td>Combust√≠vel</td>
                        <td>14</td>
                        <td>Un</td>
                        <td>R$ 380,00</td>
                        <td>R$ 5.320,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('BOMB-010')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('BOMB-010')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>VELA-011</td>
                        <td>Vela de Igni√ß√£o</td>
                        <td>Motor</td>
                        <td>60</td>
                        <td>Un</td>
                        <td>R$ 25,00</td>
                        <td>R$ 1.500,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('VELA-011')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('VELA-011')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>FLUID-012</td>
                        <td>Fluido de Freio DOT 4</td>
                        <td>Freios</td>
                        <td>35</td>
                        <td>Un</td>
                        <td>R$ 32,00</td>
                        <td>R$ 1.120,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('FLUID-012')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('FLUID-012')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>EMBR-013</td>
                        <td>Embreagem Completa</td>
                        <td>Transmiss√£o</td>
                        <td>10</td>
                        <td>Un</td>
                        <td>R$ 520,00</td>
                        <td>R$ 5.200,00</td>
                        <td><span style="color: #F39C12; font-weight: bold;">Estoque Baixo</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('EMBR-013')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('EMBR-013')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>FARO-014</td>
                        <td>Farol Dianteiro Completo</td>
                        <td>Ilumina√ß√£o</td>
                        <td>16</td>
                        <td>Un</td>
                        <td>R$ 195,00</td>
                        <td>R$ 3.120,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('FARO-014')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('FARO-014')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>LIMP-015</td>
                        <td>Limpador de Parabrisa</td>
                        <td>El√©trica</td>
                        <td>42</td>
                        <td>Un</td>
                        <td>R$ 45,00</td>
                        <td>R$ 1.890,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('LIMP-015')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('LIMP-015')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>ANTI-016</td>
                        <td>Anticongelante 5L</td>
                        <td>Arrefecimento</td>
                        <td>20</td>
                        <td>Un</td>
                        <td>R$ 48,00</td>
                        <td>R$ 960,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('ANTI-016')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('ANTI-016')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>FILT-017</td>
                        <td>Filtro de Ar</td>
                        <td>Filtros</td>
                        <td>38</td>
                        <td>Un</td>
                        <td>R$ 42,00</td>
                        <td>R$ 1.596,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('FILT-017')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('FILT-017')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>FILT-018</td>
                        <td>Filtro de Combust√≠vel</td>
                        <td>Filtros</td>
                        <td>30</td>
                        <td>Un</td>
                        <td>R$ 38,00</td>
                        <td>R$ 1.140,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('FILT-018')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('FILT-018')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OLEO-019</td>
                        <td>√ìleo de C√¢mbio 75W90 1L</td>
                        <td>Lubrificantes</td>
                        <td>25</td>
                        <td>Un</td>
                        <td>R$ 65,00</td>
                        <td>R$ 1.625,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Em Estoque</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('OLEO-019')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('OLEO-019')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>TERM-020</td>
                        <td>Termostato</td>
                        <td>Arrefecimento</td>
                        <td>5</td>
                        <td>Un</td>
                        <td>R$ 55,00</td>
                        <td>R$ 275,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Estoque Cr√≠tico</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="editProduct('TERM-020')">Editar</button>
                            <button class="btn-action btn-delete" onclick="deleteProduct('TERM-020')">Excluir</button>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Formul√°rio: Valores a Receber -->
              <div class="form-container" id="form-valores-receber">
                <!-- Campo de Pesquisa -->
                <div class="search-container">
                  <h3>Pesquisar Ordens de Servi√ßo</h3>
                  <div class="search-box">
                    <div class="search-input-wrapper">
                      <span class="search-icon">üîç</span>
                      <input 
                        type="text" 
                        id="search-receivables" 
                        class="search-input" 
                        placeholder="Digite para pesquisar por OS, cliente, placa..."
                        onkeyup="filterReceivables()"
                      />
                    </div>
                    <button class="clear-search" onclick="clearReceivablesSearch()">Limpar</button>
                  </div>
                  <div class="search-filters">
                    <button class="filter-btn active" data-filter-receivable="all" onclick="setReceivableFilter('all')">Todos</button>
                    <button class="filter-btn" data-filter-receivable="os" onclick="setReceivableFilter('os')">N¬∫ OS</button>
                    <button class="filter-btn" data-filter-receivable="customer" onclick="setReceivableFilter('customer')">Cliente</button>
                    <button class="filter-btn" data-filter-receivable="plate" onclick="setReceivableFilter('plate')">Placa</button>
                  </div>
                </div>

                <div class="customers-list">
                  <div class="customers-list-header">
                    Valores a Receber - Ordens de Servi√ßo
                  </div>
                  <table class="customers-table">
                    <thead>
                      <tr>
                        <th>N¬∫ OS</th>
                        <th>Data</th>
                        <th>Cliente</th>
                        <th>Ve√≠culo</th>
                        <th>Placa</th>
                        <th>Servi√ßos</th>
                        <th>Valor Total</th>
                        <th>Status</th>
                        <th>A√ß√µes</th>
                      </tr>
                    </thead>
                    <tbody id="receivables-table-body">
                      <tr>
                        <td>OS-2024-001</td>
                        <td>15/01/2024</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Troca de √≥leo e filtros</td>
                        <td>R$ 185,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="receivePayment('OS-2024-001')">Receber</button>
                            <button class="btn-action btn-delete" onclick="viewOS('OS-2024-001')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-002</td>
                        <td>18/01/2024</td>
                        <td>Jo√£o Silva</td>
                        <td>Toyota Corolla XEi</td>
                        <td>XYZ9A87</td>
                        <td>Troca de pastilhas e discos</td>
                        <td>R$ 620,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="receivePayment('OS-2024-002')">Receber</button>
                            <button class="btn-action btn-delete" onclick="viewOS('OS-2024-002')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-003</td>
                        <td>20/01/2024</td>
                        <td>Ana Costa</td>
                        <td>Chevrolet Onix Plus</td>
                        <td>DEF5G45</td>
                        <td>Troca de bateria</td>
                        <td>R$ 380,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="receivePayment('OS-2024-003')">Receber</button>
                            <button class="btn-action btn-delete" onclick="viewOS('OS-2024-003')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-004</td>
                        <td>22/01/2024</td>
                        <td>Pedro Santos</td>
                        <td>Hyundai HB20 Vision</td>
                        <td>GHI7H89</td>
                        <td>Alinhamento e balanceamento</td>
                        <td>R$ 120,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="receivePayment('OS-2024-004')">Receber</button>
                            <button class="btn-action btn-delete" onclick="viewOS('OS-2024-004')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-005</td>
                        <td>25/01/2024</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Troca de pneus (4 unidades)</td>
                        <td>R$ 1.400,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="receivePayment('OS-2024-005')">Receber</button>
                            <button class="btn-action btn-delete" onclick="viewOS('OS-2024-005')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-006</td>
                        <td>28/01/2024</td>
                        <td>Carlos Oliveira</td>
                        <td>Volkswagen Gol</td>
                        <td>JKL3M21</td>
                        <td>Revis√£o completa + troca de correia</td>
                        <td>R$ 850,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="receivePayment('OS-2024-006')">Receber</button>
                            <button class="btn-action btn-delete" onclick="viewOS('OS-2024-006')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-007</td>
                        <td>30/01/2024</td>
                        <td>Fernanda Lima</td>
                        <td>Fiat Argo</td>
                        <td>NOP4Q56</td>
                        <td>Troca de amortecedores dianteiros</td>
                        <td>R$ 560,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="receivePayment('OS-2024-007')">Receber</button>
                            <button class="btn-action btn-delete" onclick="viewOS('OS-2024-007')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-008</td>
                        <td>02/02/2024</td>
                        <td>Roberto Alves</td>
                        <td>Ford Ka</td>
                        <td>RST5U78</td>
                        <td>Troca de embreagem completa</td>
                        <td>R$ 1.200,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="receivePayment('OS-2024-008')">Receber</button>
                            <button class="btn-action btn-delete" onclick="viewOS('OS-2024-008')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-009</td>
                        <td>05/02/2024</td>
                        <td>Juliana Santos</td>
                        <td>Renault Kwid</td>
                        <td>VWX6Y90</td>
                        <td>Troca de radiador</td>
                        <td>R$ 520,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="receivePayment('OS-2024-009')">Receber</button>
                            <button class="btn-action btn-delete" onclick="viewOS('OS-2024-009')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-010</td>
                        <td>08/02/2024</td>
                        <td>Marcos Pereira</td>
                        <td>Nissan Versa</td>
                        <td>ZAB7C12</td>
                        <td>Troca de bomba de combust√≠vel</td>
                        <td>R$ 450,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="receivePayment('OS-2024-010')">Receber</button>
                            <button class="btn-action btn-delete" onclick="viewOS('OS-2024-010')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                    <tfoot>
                      <tr style="background-color: #F5F6F7; font-weight: bold;">
                        <td colspan="6" style="text-align: right; padding: 12px 16px;">Total a Receber:</td>
                        <td style="padding: 12px 16px; color: #DC3545; font-size: 110%;">R$ 6.285,00</td>
                        <td colspan="2"></td>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>

              <!-- Formul√°rio: Valores Pagos -->
              <div class="form-container" id="form-valores-pago">
                <!-- Campo de Pesquisa -->
                <div class="search-container">
                  <h3>Pesquisar Ordens de Servi√ßo Pagas</h3>
                  <div class="search-box">
                    <div class="search-input-wrapper">
                      <span class="search-icon">üîç</span>
                      <input 
                        type="text" 
                        id="search-paid" 
                        class="search-input" 
                        placeholder="Digite para pesquisar por OS, cliente, placa..."
                        onkeyup="filterPaid()"
                      />
                    </div>
                    <button class="clear-search" onclick="clearPaidSearch()">Limpar</button>
                  </div>
                  <div class="search-filters">
                    <button class="filter-btn active" data-filter-paid="all" onclick="setPaidFilter('all')">Todos</button>
                    <button class="filter-btn" data-filter-paid="os" onclick="setPaidFilter('os')">N¬∫ OS</button>
                    <button class="filter-btn" data-filter-paid="customer" onclick="setPaidFilter('customer')">Cliente</button>
                    <button class="filter-btn" data-filter-paid="plate" onclick="setPaidFilter('plate')">Placa</button>
                  </div>
                </div>

                <div class="customers-list">
                  <div class="customers-list-header">
                    Valores Pagos - Ordens de Servi√ßo
                  </div>
                  <table class="customers-table">
                    <thead>
                      <tr>
                        <th>N¬∫ OS</th>
                        <th>Data</th>
                        <th>Cliente</th>
                        <th>Ve√≠culo</th>
                        <th>Placa</th>
                        <th>Servi√ßos</th>
                        <th>Valor Total</th>
                        <th>Data Pagamento</th>
                        <th>Status</th>
                        <th>A√ß√µes</th>
                      </tr>
                    </thead>
                    <tbody id="paid-table-body">
                      <tr>
                        <td>OS-2023-125</td>
                        <td>10/12/2023</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Revis√£o completa</td>
                        <td>R$ 450,00</td>
                        <td>12/12/2023</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-delete" onclick="viewOSPaid('OS-2023-125')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2023-126</td>
                        <td>12/12/2023</td>
                        <td>Jo√£o Silva</td>
                        <td>Toyota Corolla XEi</td>
                        <td>XYZ9A87</td>
                        <td>Troca de √≥leo e filtros</td>
                        <td>R$ 165,00</td>
                        <td>12/12/2023</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-delete" onclick="viewOSPaid('OS-2023-126')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2023-127</td>
                        <td>15/12/2023</td>
                        <td>Ana Costa</td>
                        <td>Chevrolet Onix Plus</td>
                        <td>DEF5G45</td>
                        <td>Troca de pastilhas dianteiras</td>
                        <td>R$ 280,00</td>
                        <td>16/12/2023</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-delete" onclick="viewOSPaid('OS-2023-127')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2023-128</td>
                        <td>18/12/2023</td>
                        <td>Pedro Santos</td>
                        <td>Hyundai HB20 Vision</td>
                        <td>GHI7H89</td>
                        <td>Alinhamento e balanceamento</td>
                        <td>R$ 120,00</td>
                        <td>18/12/2023</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-delete" onclick="viewOSPaid('OS-2023-128')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2023-129</td>
                        <td>20/12/2023</td>
                        <td>Carlos Oliveira</td>
                        <td>Volkswagen Gol</td>
                        <td>JKL3M21</td>
                        <td>Troca de correia dentada</td>
                        <td>R$ 320,00</td>
                        <td>22/12/2023</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-delete" onclick="viewOSPaid('OS-2023-129')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2023-130</td>
                        <td>22/12/2023</td>
                        <td>Fernanda Lima</td>
                        <td>Fiat Argo</td>
                        <td>NOP4Q56</td>
                        <td>Troca de amortecedores traseiros</td>
                        <td>R$ 480,00</td>
                        <td>23/12/2023</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-delete" onclick="viewOSPaid('OS-2023-130')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2023-131</td>
                        <td>28/12/2023</td>
                        <td>Roberto Alves</td>
                        <td>Ford Ka</td>
                        <td>RST5U78</td>
                        <td>Troca de pneus (2 unidades)</td>
                        <td>R$ 700,00</td>
                        <td>29/12/2023</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-delete" onclick="viewOSPaid('OS-2023-131')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-011</td>
                        <td>10/01/2024</td>
                        <td>Juliana Santos</td>
                        <td>Renault Kwid</td>
                        <td>VWX6Y90</td>
                        <td>Troca de bateria</td>
                        <td>R$ 380,00</td>
                        <td>10/01/2024</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-delete" onclick="viewOSPaid('OS-2024-011')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-012</td>
                        <td>12/01/2024</td>
                        <td>Marcos Pereira</td>
                        <td>Nissan Versa</td>
                        <td>ZAB7C12</td>
                        <td>Troca de filtros (√≥leo, ar, combust√≠vel)</td>
                        <td>R$ 145,00</td>
                        <td>12/01/2024</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-delete" onclick="viewOSPaid('OS-2024-012')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-013</td>
                        <td>14/01/2024</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Troca de discos de freio</td>
                        <td>R$ 420,00</td>
                        <td>15/01/2024</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-delete" onclick="viewOSPaid('OS-2024-013')">Ver OS</button>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                    <tfoot>
                      <tr style="background-color: #F5F6F7; font-weight: bold;">
                        <td colspan="6" style="text-align: right; padding: 12px 16px;">Total Recebido:</td>
                        <td style="padding: 12px 16px; color: #50C878; font-size: 110%;">R$ 3.460,00</td>
                        <td colspan="3"></td>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>

              <!-- Formul√°rio: Nova Ordem de Servi√ßo -->
              <div class="form-container" id="form-nova-os">
                <form class="customer_form" action="#" method="post" id="new-os-form">
                  <div class="form-section">
                    <h2>Tipo de Documento</h2>
                    <div class="form-group" style="flex-direction: row; gap: 20px; align-items: center;">
                      <label style="display: flex; align-items: center; gap: 8px;">
                        <input type="radio" name="os-type" value="pedido" id="os-type-pedido" checked />
                        <span>PEDIDO</span>
                      </label>
                      <label style="display: flex; align-items: center; gap: 8px;">
                        <input type="radio" name="os-type" value="orcamento" id="os-type-orcamento" />
                        <span>OR√áAMENTO</span>
                      </label>
                    </div>
                    <div class="form-group">
                      <label for="os-emission-date">Data de Emiss√£o</label>
                      <input type="date" id="os-emission-date" name="osEmissionDate" required />
                    </div>
                  </div>

                  <div class="form-section">
                    <h2>Dados do Cliente</h2>
                    <div class="form-group">
                      <label for="os-customer-name">Cliente</label>
                      <input type="text" id="os-customer-name" name="osCustomerName" placeholder="Ex.: Maria Souza" required />
                    </div>
                    <div class="form-group">
                      <label for="os-customer-doc">CNPJ/CPF</label>
                      <input type="text" id="os-customer-doc" name="osCustomerDoc" placeholder="Ex.: 123.456.789-00" />
                    </div>
                    <div class="form-group">
                      <label for="os-customer-phone">Fone</label>
                      <input type="tel" id="os-customer-phone" name="osCustomerPhone" placeholder="Ex.: (11) 99999-0000" required />
                    </div>
                  </div>

                  <div class="form-section">
                    <h2>Dados do Ve√≠culo</h2>
                    <div class="form-group">
                      <label for="os-vehicle-name">Ve√≠culo</label>
                      <input type="text" id="os-vehicle-name" name="osVehicleName" placeholder="Ex.: Honda Civic Touring" required />
                    </div>
                    <div class="form-group" style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px;">
                      <div>
                        <label for="os-vehicle-year">Ano</label>
                        <input type="number" id="os-vehicle-year" name="osVehicleYear" placeholder="Ex.: 2022" min="1950" max="2099" />
                      </div>
                      <div>
                        <label for="os-vehicle-plate">Placa</label>
                        <input type="text" id="os-vehicle-plate" name="osVehiclePlate" placeholder="Ex.: ABC1D23" pattern="[A-Za-z]{3}[0-9][A-Za-z0-9][0-9]{2}" maxlength="7" required />
                      </div>
                      <div>
                        <label for="os-vehicle-km">Km</label>
                        <input type="number" id="os-vehicle-km" name="osVehicleKm" placeholder="Ex.: 50000" min="0" />
                      </div>
                    </div>
                  </div>

                  <div class="form-section">
                    <h2>Produtos e Servi√ßos</h2>
                    <div style="overflow-x: auto;">
                      <table class="customers-table" style="margin-top: 10px;">
                        <thead>
                          <tr>
                            <th style="width: 80px;">Quant</th>
                            <th>Descri√ß√£o dos Produtos</th>
                            <th style="width: 120px;">Pr. Unit.</th>
                            <th style="width: 120px;">Total</th>
                            <th style="width: 80px;">A√ß√£o</th>
                          </tr>
                        </thead>
                        <tbody id="os-items-table-body">
                          <tr>
                            <td><input type="number" class="os-item-qty" min="1" value="1" style="width: 60px; padding: 6px;" onchange="calculateItemTotal(this)" /></td>
                            <td><input type="text" class="os-item-desc" placeholder="Descri√ß√£o do produto/servi√ßo" style="width: 100%; padding: 6px;" /></td>
                            <td><input type="number" class="os-item-price" step="0.01" min="0" placeholder="0.00" style="width: 100px; padding: 6px;" onchange="calculateItemTotal(this)" /></td>
                            <td class="os-item-total">R$ 0,00</td>
                            <td>
                              <button type="button" class="btn-action btn-delete" onclick="removeOSItem(this)" style="padding: 4px 8px; font-size: 10pt;">Remover</button>
                            </td>
                          </tr>
                        </tbody>
                        <tfoot>
                          <tr>
                            <td colspan="2" style="text-align: right; padding: 12px 16px; font-weight: bold;">VALOR TOTAL R$</td>
                            <td colspan="2" style="padding: 12px 16px; font-weight: bold; font-size: 110%;" id="os-total-value">R$ 0,00</td>
                            <td>
                              <button type="button" class="btn-action btn-edit" onclick="addOSItem()" style="padding: 6px 12px;">+ Item</button>
                            </td>
                          </tr>
                        </tfoot>
                      </table>
                    </div>
                  </div>

                  <div class="form-actions">
                    <button type="reset" onclick="resetOSForm()">Limpar</button>
                    <button type="button" onclick="generateOSPDF()">Gerar PDF</button>
                    <button type="button" onclick="saveOS()">Salvar OS</button>
                  </div>
                </form>
              </div>

              <!-- Formul√°rio: Cancelar Ordem de Servi√ßo -->
              <div class="form-container" id="form-cancelar-os">
                <!-- Campo de Pesquisa de OS Pendentes -->
                <div class="search-container">
                  <h3>Pesquisar Ordens de Servi√ßo Pendentes</h3>
                  <div class="search-box">
                    <div class="search-input-wrapper">
                      <span class="search-icon">üîç</span>
                      <input 
                        type="text" 
                        id="search-pending-os" 
                        class="search-input" 
                        placeholder="Digite para pesquisar por OS, cliente, placa..."
                        onkeyup="filterPendingOS()"
                      />
                    </div>
                    <button class="clear-search" onclick="clearPendingOSSearch()">Limpar</button>
                  </div>
                  <div class="search-filters">
                    <button class="filter-btn active" data-filter-pending="all" onclick="setPendingOSFilter('all')">Todos</button>
                    <button class="filter-btn" data-filter-pending="os" onclick="setPendingOSFilter('os')">N¬∫ OS</button>
                    <button class="filter-btn" data-filter-pending="customer" onclick="setPendingOSFilter('customer')">Cliente</button>
                    <button class="filter-btn" data-filter-pending="plate" onclick="setPendingOSFilter('plate')">Placa</button>
                  </div>
                </div>

                <!-- Lista de OS Pendentes -->
                <div class="customers-list" style="margin-bottom: 20px;">
                  <div class="customers-list-header">
                    Ordens de Servi√ßo Pendentes
                  </div>
                  <table class="customers-table">
                    <thead>
                      <tr>
                        <th>N¬∫ OS</th>
                        <th>Data</th>
                        <th>Cliente</th>
                        <th>Ve√≠culo</th>
                        <th>Placa</th>
                        <th>Servi√ßos</th>
                        <th>Valor</th>
                        <th>A√ß√£o</th>
                      </tr>
                    </thead>
                    <tbody id="pending-os-table-body">
                      <tr>
                        <td>OS-2024-001</td>
                        <td>15/01/2024</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Troca de √≥leo e filtros</td>
                        <td>R$ 185,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForCancel('OS-2024-001', 'ABC1D23', 'Maria Souza', 'Honda Civic Touring')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-002</td>
                        <td>18/01/2024</td>
                        <td>Jo√£o Silva</td>
                        <td>Toyota Corolla XEi</td>
                        <td>XYZ9A87</td>
                        <td>Troca de pastilhas e discos</td>
                        <td>R$ 620,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForCancel('OS-2024-002', 'XYZ9A87', 'Jo√£o Silva', 'Toyota Corolla XEi')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-003</td>
                        <td>20/01/2024</td>
                        <td>Ana Costa</td>
                        <td>Chevrolet Onix Plus</td>
                        <td>DEF5G45</td>
                        <td>Troca de bateria</td>
                        <td>R$ 380,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForCancel('OS-2024-003', 'DEF5G45', 'Ana Costa', 'Chevrolet Onix Plus')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-004</td>
                        <td>22/01/2024</td>
                        <td>Pedro Santos</td>
                        <td>Hyundai HB20 Vision</td>
                        <td>GHI7H89</td>
                        <td>Alinhamento e balanceamento</td>
                        <td>R$ 120,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForCancel('OS-2024-004', 'GHI7H89', 'Pedro Santos', 'Hyundai HB20 Vision')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-005</td>
                        <td>25/01/2024</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Troca de pneus (4 unidades)</td>
                        <td>R$ 1.400,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForCancel('OS-2024-005', 'ABC1D23', 'Maria Souza', 'Honda Civic Touring')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-006</td>
                        <td>28/01/2024</td>
                        <td>Carlos Oliveira</td>
                        <td>Volkswagen Gol</td>
                        <td>JKL3M21</td>
                        <td>Revis√£o completa + troca de correia</td>
                        <td>R$ 850,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForCancel('OS-2024-006', 'JKL3M21', 'Carlos Oliveira', 'Volkswagen Gol')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-007</td>
                        <td>30/01/2024</td>
                        <td>Fernanda Lima</td>
                        <td>Fiat Argo</td>
                        <td>NOP4Q56</td>
                        <td>Troca de amortecedores dianteiros</td>
                        <td>R$ 560,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForCancel('OS-2024-007', 'NOP4Q56', 'Fernanda Lima', 'Fiat Argo')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-008</td>
                        <td>02/02/2024</td>
                        <td>Roberto Alves</td>
                        <td>Ford Ka</td>
                        <td>RST5U78</td>
                        <td>Troca de embreagem completa</td>
                        <td>R$ 1.200,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForCancel('OS-2024-008', 'RST5U78', 'Roberto Alves', 'Ford Ka')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-009</td>
                        <td>05/02/2024</td>
                        <td>Juliana Santos</td>
                        <td>Renault Kwid</td>
                        <td>VWX6Y90</td>
                        <td>Troca de radiador</td>
                        <td>R$ 520,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForCancel('OS-2024-009', 'VWX6Y90', 'Juliana Santos', 'Renault Kwid')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-010</td>
                        <td>08/02/2024</td>
                        <td>Marcos Pereira</td>
                        <td>Nissan Versa</td>
                        <td>ZAB7C12</td>
                        <td>Troca de bomba de combust√≠vel</td>
                        <td>R$ 450,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForCancel('OS-2024-010', 'ZAB7C12', 'Marcos Pereira', 'Nissan Versa')">Selecionar</button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

                <form class="customer_form" action="#" method="post">
                  <div class="form-section">
                    <h2>Dados da Ordem de Servi√ßo</h2>
                    <div class="form-group">
                      <label for="cancel-os-number">N√∫mero da OS</label>
                      <input type="text" id="cancel-os-number" name="cancelOsNumber" placeholder="Ex.: OS-2024-001" required />
                    </div>
                    <div class="form-group">
                      <label for="cancel-vehicle-plate">Placa do Ve√≠culo</label>
                      <input type="text" id="cancel-vehicle-plate" name="cancelVehiclePlate" placeholder="Ex.: ABC1D23" pattern="[A-Za-z]{3}[0-9][A-Za-z0-9][0-9]{2}" maxlength="7" required />
                    </div>
                  </div>

                  <div class="form-section">
                    <h2>Motivo do Cancelamento</h2>
                    <div class="form-group">
                      <label for="cancel-reason">Motivo</label>
                      <textarea id="cancel-reason" name="cancelReason" placeholder="Descreva o motivo do cancelamento..." required></textarea>
                    </div>
                    <div class="form-group">
                      <label for="cancel-responsible">Respons√°vel pelo Cancelamento</label>
                      <input type="text" id="cancel-responsible" name="cancelResponsible" placeholder="Ex.: Jo√£o Silva" required />
                    </div>
                  </div>

                  <div class="form-actions">
                    <button type="reset">Limpar</button>
                    <button type="submit">Cancelar Ordem de Servi√ßo</button>
                  </div>
                </form>
              </div>

              <!-- Formul√°rio: Finalizar Ordem de Servi√ßo -->
              <div class="form-container" id="form-finalizar-os">
                <!-- Campo de Pesquisa de OS Pendentes -->
                <div class="search-container">
                  <h3>Pesquisar Ordens de Servi√ßo Pendentes</h3>
                  <div class="search-box">
                    <div class="search-input-wrapper">
                      <span class="search-icon">üîç</span>
                      <input 
                        type="text" 
                        id="search-pending-os-finish" 
                        class="search-input" 
                        placeholder="Digite para pesquisar por OS, cliente, placa..."
                        onkeyup="filterPendingOSFinish()"
                      />
                    </div>
                    <button class="clear-search" onclick="clearPendingOSFinishSearch()">Limpar</button>
                  </div>
                  <div class="search-filters">
                    <button class="filter-btn active" data-filter-pending-finish="all" onclick="setPendingOSFinishFilter('all')">Todos</button>
                    <button class="filter-btn" data-filter-pending-finish="os" onclick="setPendingOSFinishFilter('os')">N¬∫ OS</button>
                    <button class="filter-btn" data-filter-pending-finish="customer" onclick="setPendingOSFinishFilter('customer')">Cliente</button>
                    <button class="filter-btn" data-filter-pending-finish="plate" onclick="setPendingOSFinishFilter('plate')">Placa</button>
                  </div>
                </div>

                <!-- Lista de OS Pendentes -->
                <div class="customers-list" style="margin-bottom: 20px;">
                  <div class="customers-list-header">
                    Ordens de Servi√ßo Pendentes
                  </div>
                  <table class="customers-table">
                    <thead>
                      <tr>
                        <th>N¬∫ OS</th>
                        <th>Data</th>
                        <th>Cliente</th>
                        <th>Ve√≠culo</th>
                        <th>Placa</th>
                        <th>Servi√ßos</th>
                        <th>Valor</th>
                        <th>A√ß√£o</th>
                      </tr>
                    </thead>
                    <tbody id="pending-os-finish-table-body">
                      <tr>
                        <td>OS-2024-001</td>
                        <td>15/01/2024</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Troca de √≥leo e filtros</td>
                        <td>R$ 185,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-001', 'ABC1D23', 'Maria Souza', 'Honda Civic Touring', 'Troca de √≥leo e filtros', '185.00')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-002</td>
                        <td>18/01/2024</td>
                        <td>Jo√£o Silva</td>
                        <td>Toyota Corolla XEi</td>
                        <td>XYZ9A87</td>
                        <td>Troca de pastilhas e discos</td>
                        <td>R$ 620,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-002', 'XYZ9A87', 'Jo√£o Silva', 'Toyota Corolla XEi', 'Troca de pastilhas e discos', '620.00')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-003</td>
                        <td>20/01/2024</td>
                        <td>Ana Costa</td>
                        <td>Chevrolet Onix Plus</td>
                        <td>DEF5G45</td>
                        <td>Troca de bateria</td>
                        <td>R$ 380,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-003', 'DEF5G45', 'Ana Costa', 'Chevrolet Onix Plus', 'Troca de bateria', '380.00')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-004</td>
                        <td>22/01/2024</td>
                        <td>Pedro Santos</td>
                        <td>Hyundai HB20 Vision</td>
                        <td>GHI7H89</td>
                        <td>Alinhamento e balanceamento</td>
                        <td>R$ 120,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-004', 'GHI7H89', 'Pedro Santos', 'Hyundai HB20 Vision', 'Alinhamento e balanceamento', '120.00')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-005</td>
                        <td>25/01/2024</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Troca de pneus (4 unidades)</td>
                        <td>R$ 1.400,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-005', 'ABC1D23', 'Maria Souza', 'Honda Civic Touring', 'Troca de pneus (4 unidades)', '1400.00')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-006</td>
                        <td>28/01/2024</td>
                        <td>Carlos Oliveira</td>
                        <td>Volkswagen Gol</td>
                        <td>JKL3M21</td>
                        <td>Revis√£o completa + troca de correia</td>
                        <td>R$ 850,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-006', 'JKL3M21', 'Carlos Oliveira', 'Volkswagen Gol', 'Revis√£o completa + troca de correia', '850.00')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-007</td>
                        <td>30/01/2024</td>
                        <td>Fernanda Lima</td>
                        <td>Fiat Argo</td>
                        <td>NOP4Q56</td>
                        <td>Troca de amortecedores dianteiros</td>
                        <td>R$ 560,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-007', 'NOP4Q56', 'Fernanda Lima', 'Fiat Argo', 'Troca de amortecedores dianteiros', '560.00')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-008</td>
                        <td>02/02/2024</td>
                        <td>Roberto Alves</td>
                        <td>Ford Ka</td>
                        <td>RST5U78</td>
                        <td>Troca de embreagem completa</td>
                        <td>R$ 1.200,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-008', 'RST5U78', 'Roberto Alves', 'Ford Ka', 'Troca de embreagem completa', '1200.00')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-009</td>
                        <td>05/02/2024</td>
                        <td>Juliana Santos</td>
                        <td>Renault Kwid</td>
                        <td>VWX6Y90</td>
                        <td>Troca de radiador</td>
                        <td>R$ 520,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-009', 'VWX6Y90', 'Juliana Santos', 'Renault Kwid', 'Troca de radiador', '520.00')">Selecionar</button>
                        </td>
                      </tr>
                      <tr>
                        <td>OS-2024-010</td>
                        <td>08/02/2024</td>
                        <td>Marcos Pereira</td>
                        <td>Nissan Versa</td>
                        <td>ZAB7C12</td>
                        <td>Troca de bomba de combust√≠vel</td>
                        <td>R$ 450,00</td>
                        <td>
                          <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-010', 'ZAB7C12', 'Marcos Pereira', 'Nissan Versa', 'Troca de bomba de combust√≠vel', '450.00')">Selecionar</button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>

                <form class="customer_form" action="#" method="post" id="finish-os-form">
                  <div class="form-section">
                    <h2>Dados da Ordem de Servi√ßo</h2>
                    <div class="form-group">
                      <label for="finish-os-number">N√∫mero da OS</label>
                      <input type="text" id="finish-os-number" name="finishOsNumber" placeholder="Ex.: OS-2024-001" required />
                    </div>
                    <div class="form-group">
                      <label for="finish-vehicle-plate">Placa do Ve√≠culo</label>
                      <input type="text" id="finish-vehicle-plate" name="finishVehiclePlate" placeholder="Ex.: ABC1D23" pattern="[A-Za-z]{3}[0-9][A-Za-z0-9][0-9]{2}" maxlength="7" required />
                    </div>
        </div>

                  <div class="form-section">
                    <h2>Servi√ßos Realizados</h2>
                    <div class="form-group">
                      <label for="finish-services">Servi√ßos Executados</label>
                      <textarea id="finish-services" name="finishServices" placeholder="Descreva os servi√ßos realizados..." required></textarea>
                    </div>
                    <div class="form-group">
                      <label for="finish-observations">Observa√ß√µes</label>
                      <textarea id="finish-observations" name="finishObservations" placeholder="Observa√ß√µes adicionais..."></textarea>
                    </div>
        </div>

                  <div class="form-section">
                    <h2>Valores</h2>
                    <div class="form-group">
                      <label for="finish-total">Valor Total</label>
                      <input type="number" id="finish-total" name="finishTotal" placeholder="Ex.: 500.00" step="0.01" min="0" required />
                    </div>
                    <div class="form-group">
                      <label for="finish-payment">Forma de Pagamento</label>
                      <select id="finish-payment" name="finishPayment" required>
                        <option value="">Selecione...</option>
                        <option value="dinheiro">Dinheiro</option>
                        <option value="cartao-debito">Cart√£o D√©bito</option>
                        <option value="cartao-credito">Cart√£o Cr√©dito</option>
                        <option value="pix">PIX</option>
                        <option value="transferencia">Transfer√™ncia</option>
                      </select>
                    </div>
        </div>

                  <div class="form-actions">
                    <button type="reset">Limpar</button>
                    <button type="button" onclick="finalizeOrder()">Finalizar Ordem de Servi√ßo</button>
        </div>
                </form>
        </div>

              <!-- Formul√°rio: Pesquisar OS Pendente (Unificado) -->
              <div class="form-container" id="form-pesquisar-os">
                <!-- Campo de Pesquisa -->
                <div class="search-container">
                  <h3>Pesquisar Todas as Ordens de Servi√ßo</h3>
                  <div class="search-box">
                    <div class="search-input-wrapper">
                      <span class="search-icon">üîç</span>
                      <input 
                        type="text" 
                        id="search-all-os" 
                        class="search-input" 
                        placeholder="Digite para pesquisar por OS, cliente, placa, servi√ßos..."
                        onkeyup="filterAllOS()"
                      />
                    </div>
                    <button class="clear-search" onclick="clearAllOSSearch()">Limpar</button>
                  </div>
                  <div class="search-filters">
                    <button class="filter-btn active" data-filter-all-os="all" onclick="setAllOSFilter('all')">Todos</button>
                    <button class="filter-btn" data-filter-all-os="os" onclick="setAllOSFilter('os')">N¬∫ OS</button>
                    <button class="filter-btn" data-filter-all-os="customer" onclick="setAllOSFilter('customer')">Cliente</button>
                    <button class="filter-btn" data-filter-all-os="plate" onclick="setAllOSFilter('plate')">Placa</button>
                    <button class="filter-btn" data-filter-all-os="status" onclick="setAllOSFilter('status')">Status</button>
                  </div>
                  <div class="search-filters" style="margin-top: 8px;">
                    <button class="filter-btn" data-status-filter="all-status" onclick="setStatusFilter('all-status')">Todos Status</button>
                    <button class="filter-btn" data-status-filter="pendente" onclick="setStatusFilter('pendente')">Pendente</button>
                    <button class="filter-btn" data-status-filter="pago" onclick="setStatusFilter('pago')">Pago</button>
                    <button class="filter-btn" data-status-filter="cancelado" onclick="setStatusFilter('cancelado')">Cancelado</button>
                  </div>
                </div>

                <div class="customers-list">
                  <div class="customers-list-header">
                    Todas as Ordens de Servi√ßo
                  </div>
                  <table class="customers-table">
                    <thead>
                      <tr>
                        <th>N¬∫ OS</th>
                        <th>Data</th>
                        <th>Cliente</th>
                        <th>Ve√≠culo</th>
                        <th>Placa</th>
                        <th>Servi√ßos</th>
                        <th>Valor</th>
                        <th>Status</th>
                        <th>A√ß√µes</th>
                      </tr>
                    </thead>
                    <tbody id="all-os-table-body">
                      <!-- OS Pendentes -->
                      <tr data-status="pendente">
                        <td>OS-2024-001</td>
                        <td>15/01/2024</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Troca de √≥leo e filtros</td>
                        <td>R$ 185,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewOSDetails('OS-2024-001')">Ver</button>
                            <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-001', 'ABC1D23', 'Maria Souza', 'Honda Civic Touring', 'Troca de √≥leo e filtros', '185.00')">Finalizar</button>
                            <button class="btn-action btn-delete" onclick="selectOSForCancel('OS-2024-001', 'ABC1D23', 'Maria Souza', 'Honda Civic Touring')">Cancelar</button>
                          </div>
                        </td>
                      </tr>
                      <tr data-status="pendente">
                        <td>OS-2024-002</td>
                        <td>18/01/2024</td>
                        <td>Jo√£o Silva</td>
                        <td>Toyota Corolla XEi</td>
                        <td>XYZ9A87</td>
                        <td>Troca de pastilhas e discos</td>
                        <td>R$ 620,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewOSDetails('OS-2024-002')">Ver</button>
                            <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-002', 'XYZ9A87', 'Jo√£o Silva', 'Toyota Corolla XEi', 'Troca de pastilhas e discos', '620.00')">Finalizar</button>
                            <button class="btn-action btn-delete" onclick="selectOSForCancel('OS-2024-002', 'XYZ9A87', 'Jo√£o Silva', 'Toyota Corolla XEi')">Cancelar</button>
                          </div>
                        </td>
                      </tr>
                      <tr data-status="pendente">
                        <td>OS-2024-003</td>
                        <td>20/01/2024</td>
                        <td>Ana Costa</td>
                        <td>Chevrolet Onix Plus</td>
                        <td>DEF5G45</td>
                        <td>Troca de bateria</td>
                        <td>R$ 380,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewOSDetails('OS-2024-003')">Ver</button>
                            <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-003', 'DEF5G45', 'Ana Costa', 'Chevrolet Onix Plus', 'Troca de bateria', '380.00')">Finalizar</button>
                            <button class="btn-action btn-delete" onclick="selectOSForCancel('OS-2024-003', 'DEF5G45', 'Ana Costa', 'Chevrolet Onix Plus')">Cancelar</button>
                          </div>
                        </td>
                      </tr>
                      <tr data-status="pendente">
                        <td>OS-2024-004</td>
                        <td>22/01/2024</td>
                        <td>Pedro Santos</td>
                        <td>Hyundai HB20 Vision</td>
                        <td>GHI7H89</td>
                        <td>Alinhamento e balanceamento</td>
                        <td>R$ 120,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewOSDetails('OS-2024-004')">Ver</button>
                            <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-004', 'GHI7H89', 'Pedro Santos', 'Hyundai HB20 Vision', 'Alinhamento e balanceamento', '120.00')">Finalizar</button>
                            <button class="btn-action btn-delete" onclick="selectOSForCancel('OS-2024-004', 'GHI7H89', 'Pedro Santos', 'Hyundai HB20 Vision')">Cancelar</button>
                          </div>
                        </td>
                      </tr>
                      <tr data-status="pendente">
                        <td>OS-2024-005</td>
                        <td>25/01/2024</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Troca de pneus (4 unidades)</td>
                        <td>R$ 1.400,00</td>
                        <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewOSDetails('OS-2024-005')">Ver</button>
                            <button class="btn-action btn-edit" onclick="selectOSForFinish('OS-2024-005', 'ABC1D23', 'Maria Souza', 'Honda Civic Touring', 'Troca de pneus (4 unidades)', '1400.00')">Finalizar</button>
                            <button class="btn-action btn-delete" onclick="selectOSForCancel('OS-2024-005', 'ABC1D23', 'Maria Souza', 'Honda Civic Touring')">Cancelar</button>
                          </div>
                        </td>
                      </tr>
                      <!-- OS Pagas -->
                      <tr data-status="pago">
                        <td>OS-2023-125</td>
                        <td>10/12/2023</td>
                        <td>Maria Souza</td>
                        <td>Honda Civic Touring</td>
                        <td>ABC1D23</td>
                        <td>Revis√£o completa</td>
                        <td>R$ 450,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewOSDetails('OS-2023-125')">Ver</button>
                          </div>
                        </td>
                      </tr>
                      <tr data-status="pago">
                        <td>OS-2023-126</td>
                        <td>12/12/2023</td>
                        <td>Jo√£o Silva</td>
                        <td>Toyota Corolla XEi</td>
                        <td>XYZ9A87</td>
                        <td>Troca de √≥leo e filtros</td>
                        <td>R$ 165,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewOSDetails('OS-2023-126')">Ver</button>
                          </div>
                        </td>
                      </tr>
                      <tr data-status="pago">
                        <td>OS-2023-127</td>
                        <td>15/12/2023</td>
                        <td>Ana Costa</td>
                        <td>Chevrolet Onix Plus</td>
                        <td>DEF5G45</td>
                        <td>Troca de pastilhas dianteiras</td>
                        <td>R$ 280,00</td>
                        <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewOSDetails('OS-2023-127')">Ver</button>
                          </div>
                        </td>
                      </tr>
                      <!-- OS Canceladas -->
                      <tr data-status="cancelado">
                        <td>OS-2023-120</td>
                        <td>05/12/2023</td>
                        <td>Carlos Mendes</td>
                        <td>Volkswagen Polo</td>
                        <td>MNO8P34</td>
                        <td>Troca de correia</td>
                        <td>R$ 320,00</td>
                        <td><span style="color: #9BA4B5; font-weight: bold;">Cancelado</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewOSDetails('OS-2023-120')">Ver</button>
                          </div>
                        </td>
                      </tr>
                      <tr data-status="cancelado">
                        <td>OS-2023-121</td>
                        <td>07/12/2023</td>
                        <td>Patricia Lima</td>
                        <td>Fiat Uno</td>
                        <td>QRS9T56</td>
                        <td>Revis√£o geral</td>
                        <td>R$ 350,00</td>
                        <td><span style="color: #9BA4B5; font-weight: bold;">Cancelado</span></td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewOSDetails('OS-2023-121')">Ver</button>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Formul√°rio: Pesquisa por Placa -->
              <div class="form-container" id="form-pesquisa-placa">
                <!-- Campo de Pesquisa -->
                <div class="search-container">
                  <h3>Pesquisar Ve√≠culos por Placa</h3>
                  <div class="search-box">
                    <div class="search-input-wrapper">
                      <span class="search-icon">üîç</span>
                      <input 
                        type="text" 
                        id="search-by-plate" 
                        class="search-input" 
                        placeholder="Digite a placa para pesquisar (Ex.: ABC1D23) ou deixe em branco para ver todos..."
                        onkeyup="filterByPlate()"
                      />
                    </div>
                    <button class="clear-search" onclick="clearPlateSearch()">Limpar</button>
                  </div>
                  <div class="search-filters">
                    <button class="filter-btn active" data-filter-plate="all" onclick="setPlateFilter('all')">Todos</button>
                    <button class="filter-btn" data-filter-plate="plate" onclick="setPlateFilter('plate')">Placa</button>
                    <button class="filter-btn" data-filter-plate="model" onclick="setPlateFilter('model')">Modelo</button>
                    <button class="filter-btn" data-filter-plate="brand" onclick="setPlateFilter('brand')">Marca</button>
                    <button class="filter-btn" data-filter-plate="customer" onclick="setPlateFilter('customer')">Cliente</button>
                  </div>
                </div>

                <div class="customers-list">
                  <div class="customers-list-header">
                    Ve√≠culos Cadastrados
                  </div>
                  <table class="customers-table">
                    <thead>
                      <tr>
                        <th>Placa</th>
                        <th>Modelo</th>
                        <th>Marca</th>
                        <th>Ano</th>
                        <th>Cor</th>
                        <th>Cliente</th>
                        <th>E-mail</th>
                        <th>Telefone</th>
                        <th>A√ß√µes</th>
                      </tr>
                    </thead>
                    <tbody id="plate-search-table-body">
                      <tr>
                        <td>ABC1D23</td>
                        <td>Civic Touring</td>
                        <td>Honda</td>
                        <td>2022</td>
                        <td>Prata</td>
                        <td>Maria Souza</td>
                        <td>maria.souza@email.com</td>
                        <td>(11) 99999-1234</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewVehicleByPlate('ABC1D23')">Ver Detalhes</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>XYZ9A87</td>
                        <td>Corolla XEi</td>
                        <td>Toyota</td>
                        <td>2021</td>
                        <td>Branco</td>
                        <td>Jo√£o Silva</td>
                        <td>joao.silva@email.com</td>
                        <td>(11) 98888-5678</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewVehicleByPlate('XYZ9A87')">Ver Detalhes</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>DEF5G45</td>
                        <td>Onix Plus</td>
                        <td>Chevrolet</td>
                        <td>2023</td>
                        <td>Preto</td>
                        <td>Ana Costa</td>
                        <td>ana.costa@email.com</td>
                        <td>(11) 97777-9012</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewVehicleByPlate('DEF5G45')">Ver Detalhes</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>GHI7H89</td>
                        <td>HB20 Vision</td>
                        <td>Hyundai</td>
                        <td>2020</td>
                        <td>Vermelho</td>
                        <td>Pedro Santos</td>
                        <td>pedro.santos@email.com</td>
                        <td>(11) 96666-3456</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewVehicleByPlate('GHI7H89')">Ver Detalhes</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>JKL3M21</td>
                        <td>Gol</td>
                        <td>Volkswagen</td>
                        <td>2019</td>
                        <td>Azul</td>
                        <td>Carlos Oliveira</td>
                        <td>carlos.oliveira@email.com</td>
                        <td>(11) 95555-7890</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewVehicleByPlate('JKL3M21')">Ver Detalhes</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>NOP4Q56</td>
                        <td>Argo</td>
                        <td>Fiat</td>
                        <td>2021</td>
                        <td>Branco</td>
                        <td>Fernanda Lima</td>
                        <td>fernanda.lima@email.com</td>
                        <td>(11) 94444-1234</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewVehicleByPlate('NOP4Q56')">Ver Detalhes</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>RST5U78</td>
                        <td>Ka</td>
                        <td>Ford</td>
                        <td>2020</td>
                        <td>Prata</td>
                        <td>Roberto Alves</td>
                        <td>roberto.alves@email.com</td>
                        <td>(11) 93333-5678</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewVehicleByPlate('RST5U78')">Ver Detalhes</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>VWX6Y90</td>
                        <td>Kwid</td>
                        <td>Renault</td>
                        <td>2022</td>
                        <td>Preto</td>
                        <td>Juliana Santos</td>
                        <td>juliana.santos@email.com</td>
                        <td>(11) 92222-9012</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewVehicleByPlate('VWX6Y90')">Ver Detalhes</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>ZAB7C12</td>
                        <td>Versa</td>
                        <td>Nissan</td>
                        <td>2021</td>
                        <td>Branco</td>
                        <td>Marcos Pereira</td>
                        <td>marcos.pereira@email.com</td>
                        <td>(11) 91111-3456</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewVehicleByPlate('ZAB7C12')">Ver Detalhes</button>
                          </div>
                        </td>
                      </tr>
                      <tr>
                        <td>MNO8P34</td>
                        <td>Polo</td>
                        <td>Volkswagen</td>
                        <td>2023</td>
                        <td>Vermelho</td>
                        <td>Carlos Mendes</td>
                        <td>carlos.mendes@email.com</td>
                        <td>(11) 90000-7890</td>
                        <td>
                          <div class="action-buttons">
                            <button class="btn-action btn-edit" onclick="viewVehicleByPlate('MNO8P34')">Ver Detalhes</button>
                          </div>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>

              <!-- Formul√°rio: Relat√≥rio de Ordem de Servi√ßo -->
              <div class="form-container" id="form-relatorio-os">
                <div class="form-section">
                  <h2>Selecione o Per√≠odo do Relat√≥rio</h2>
                  <div class="form-group">
                    <label for="report-period">Tipo de Relat√≥rio</label>
                    <select id="report-period" name="reportPeriod" onchange="generateReport()" required>
                      <option value="">Selecione o per√≠odo...</option>
                      <option value="semanal">Relat√≥rio Semanal</option>
                      <option value="mensal">Relat√≥rio Mensal</option>
                      <option value="anual">Relat√≥rio Anual</option>
                    </select>
                  </div>
                  <div class="form-group" id="date-range-group" style="display: none;">
                    <label for="report-start-date">Data Inicial</label>
                    <input type="date" id="report-start-date" name="reportStartDate" onchange="generateReport()" />
                  </div>
                  <div class="form-group" id="date-end-group" style="display: none;">
                    <label for="report-end-date">Data Final</label>
                    <input type="date" id="report-end-date" name="reportEndDate" onchange="generateReport()" />
                  </div>
                  <div class="form-actions" style="margin-top: 20px;">
                    <button type="button" class="btn-action btn-edit" onclick="generateReport()">Gerar Relat√≥rio</button>
                    <button type="button" class="btn-action btn-delete" onclick="exportReport()">Exportar PDF</button>
                  </div>
                </div>

                <div class="customers-list" id="report-results" style="margin-top: 30px; display: none;">
                  <div class="customers-list-header" style="display: flex; align-items: center; justify-content: space-between;">
                    <span id="report-title">Relat√≥rio de Ordens de Servi√ßo</span>
                    <img src="logo-dihmec.png" alt="DIHMEC Logo" style="max-height: 50px; max-width: 150px; object-fit: contain;" onerror="this.style.display='none';" />
                  </div>
                  <div style="padding: 16px; background-color: #F5F6F7; border-bottom: 1px solid #CED4DA;">
                    <div style="display: flex; justify-content: space-between; flex-wrap: wrap; gap: 16px;">
                      <div>
                        <strong>Per√≠odo:</strong> <span id="report-period-text">-</span>
                      </div>
                      <div>
                        <strong>Total de OS:</strong> <span id="report-total-os">0</span>
                      </div>
                      <div>
                        <strong>Total Recebido:</strong> <span id="report-total-value">R$ 0,00</span>
                      </div>
                      <div>
                        <strong>OS Pendentes:</strong> <span id="report-pending">0</span>
                      </div>
                      <div>
                        <strong>OS Pagas:</strong> <span id="report-paid">0</span>
                      </div>
                      <div>
                        <strong>OS Canceladas:</strong> <span id="report-cancelled">0</span>
                      </div>
                    </div>
                  </div>
                  <table class="customers-table">
                    <thead>
                      <tr>
                        <th>N¬∫ OS</th>
                        <th>Data</th>
                        <th>Cliente</th>
                        <th>Ve√≠culo</th>
                        <th>Placa</th>
                        <th>Servi√ßos</th>
                        <th>Valor</th>
                        <th>Status</th>
                      </tr>
                    </thead>
                    <tbody id="report-table-body">
                    </tbody>
                    <tfoot>
                      <tr style="background-color: #F5F6F7; font-weight: bold;">
                        <td colspan="6" style="text-align: right; padding: 12px 16px;">Total:</td>
                        <td style="padding: 12px 16px; color: #212738; font-size: 110%;" id="report-footer-total">R$ 0,00</td>
                        <td></td>
                      </tr>
                    </tfoot>
                  </table>
                </div>
              </div>

      </div>
          </div>
        </div>
      </main>
    </div>
    <div class="validator">
    </div>
    <script type="text/javascript">
      // Fun√ß√£o para tratar erro do logo
      function handleLogoError() {
        const logoImg = document.getElementById('logo-img');
        const logoText = document.getElementById('logo-text');
        if (logoImg) logoImg.style.display = 'none';
        if (logoText) logoText.style.display = 'block';
      }

      // Fun√ß√£o para tratar erro do logo no sidebar
      function handleSidebarLogoError() {
        const sidebarLogoImg = document.getElementById('sidebar-logo-img');
        const sidebarLogoImgAlt = document.getElementById('sidebar-logo-img-alt');
        const sidebarLogoText = document.getElementById('sidebar-logo-text');
        
        // Tentar imagem alternativa primeiro
        if (sidebarLogoImg && sidebarLogoImg.style.display !== 'none') {
          sidebarLogoImg.style.display = 'none';
          if (sidebarLogoImgAlt) {
            sidebarLogoImgAlt.style.display = 'block';
            sidebarLogoImgAlt.src = 'logo-dihmec.png';
            return;
          }
        }
        
        // Se ambas as imagens falharem, mostrar texto
        if (sidebarLogoImgAlt) sidebarLogoImgAlt.style.display = 'none';
        if (sidebarLogoText) sidebarLogoText.style.display = 'block';
      }

      // Tentar carregar logo ao iniciar
      document.addEventListener('DOMContentLoaded', function() {
        const sidebarLogoImg = document.getElementById('sidebar-logo-img');
        if (sidebarLogoImg) {
          sidebarLogoImg.onload = function() {
            const sidebarLogoText = document.getElementById('sidebar-logo-text');
            if (sidebarLogoText) sidebarLogoText.style.display = 'none';
          };
        }
      });

      // Fun√ß√£o para alternar entre modo claro e escuro
      function toggleTheme() {
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');
        const themeToggle = document.getElementById('theme-toggle');

        if (body.classList.contains('dark-mode')) {
          // Mudar para modo claro
          body.classList.remove('dark-mode');
          themeIcon.textContent = 'üåô';
          themeText.textContent = 'Modo Escuro';
          themeToggle.style.backgroundColor = '#212738';
          localStorage.setItem('theme', 'light');
        } else {
          // Mudar para modo escuro
          body.classList.add('dark-mode');
          themeIcon.textContent = '‚òÄÔ∏è';
          themeText.textContent = 'Modo Claro';
          themeToggle.style.backgroundColor = '#E9510E';
          localStorage.setItem('theme', 'dark');
        }
      }

      // Carregar tema salvo ao carregar a p√°gina
      document.addEventListener('DOMContentLoaded', function() {
        const savedTheme = localStorage.getItem('theme');
        const body = document.body;
        const themeIcon = document.getElementById('theme-icon');
        const themeText = document.getElementById('theme-text');
        const themeToggle = document.getElementById('theme-toggle');

        if (savedTheme === 'dark') {
          body.classList.add('dark-mode');
          themeIcon.textContent = '‚òÄÔ∏è';
          themeText.textContent = 'Modo Claro';
          themeToggle.style.backgroundColor = '#E9510E';
        } else {
          body.classList.remove('dark-mode');
          themeIcon.textContent = 'üåô';
          themeText.textContent = 'Modo Escuro';
          themeToggle.style.backgroundColor = '#212738';
        }
      });

      // Configura√ß√£o dos formul√°rios e t√≠tulos
      const formConfig = {
        'cadastro-cliente': {
          title: 'Cadastro de Clientes',
          subtitle: 'Formul√°rio',
          sectionTitle: 'Dados do Cliente e Ve√≠culo',
          description: 'Preencha as informa√ß√µes do cliente e do ve√≠culo para efetuar o cadastro.'
        },
        'veiculos': {
          title: 'Ve√≠culos Cadastrados',
          subtitle: 'Lista',
          sectionTitle: 'Lista de Ve√≠culos',
          description: 'Lista de todos os ve√≠culos cadastrados no sistema.'
        },
        'produtos-estoque': {
          title: 'Produtos e Estoque',
          subtitle: 'Lista',
          sectionTitle: 'Controle de Estoque',
          description: 'Lista de produtos e controle de estoque da oficina.'
        },
        'valores-receber': {
          title: 'Valores a Receber',
          subtitle: 'Lista',
          sectionTitle: 'Contas a Receber',
          description: 'Lista de ordens de servi√ßo com valores pendentes de recebimento.'
        },
        'valores-pago': {
          title: 'Valores Pagos',
          subtitle: 'Lista',
          sectionTitle: 'Hist√≥rico de Pagamentos',
          description: 'Lista de ordens de servi√ßo que j√° foram pagas.'
        },
        'nova-os': {
          title: 'Nova Ordem de Servi√ßo',
          subtitle: 'Formul√°rio',
          sectionTitle: 'Criar Nova Ordem de Servi√ßo',
          description: 'Preencha os dados para criar uma nova ordem de servi√ßo.'
        },
        'cancelar-os': {
          title: 'Cancelar Ordem de Servi√ßo',
          subtitle: 'Formul√°rio',
          sectionTitle: 'Cancelamento de Ordem de Servi√ßo',
          description: 'Informe os dados da ordem de servi√ßo que deseja cancelar.'
        },
        'finalizar-os': {
          title: 'Finalizar Ordem de Servi√ßo',
          subtitle: 'Formul√°rio',
          sectionTitle: 'Finaliza√ß√£o de Ordem de Servi√ßo',
          description: 'Preencha as informa√ß√µes para finalizar a ordem de servi√ßo.'
        },
        'pesquisar-os': {
          title: 'Pesquisar Ordens de Servi√ßo',
          subtitle: 'Pesquisa Unificada',
          sectionTitle: 'Todas as Ordens de Servi√ßo',
          description: 'Pesquise e gerencie todas as ordens de servi√ßo (pendentes, pagas e canceladas).'
        },
        'pesquisa-placa': {
          title: 'Pesquisa por Placa',
          subtitle: 'Busca de Ve√≠culos',
          sectionTitle: 'Pesquisar Ve√≠culos por Placa',
          description: 'Pesquise ve√≠culos cadastrados pela placa ou visualize todos os ve√≠culos.'
        },
        'relatorio-os': {
          title: 'Relat√≥rio de Ordem de Servi√ßo',
          subtitle: 'Relat√≥rios',
          sectionTitle: 'Relat√≥rios de Ordens de Servi√ßo',
          description: 'Gere relat√≥rios semanal, mensal ou anual das ordens de servi√ßo.'
        }
      };

      // Fun√ß√£o para alternar formul√°rios
      function showForm(formId) {
        // Esconder todos os formul√°rios
        const allForms = document.querySelectorAll('.form-container');
        allForms.forEach(form => form.classList.remove('active'));

        // Mostrar o formul√°rio selecionado
        const selectedForm = document.getElementById('form-' + formId);
        if (selectedForm) {
          selectedForm.classList.add('active');
        }

        // Atualizar t√≠tulos e descri√ß√µes
        const config = formConfig[formId];
        if (config) {
          document.getElementById('page-title').textContent = config.title;
          document.getElementById('page-subtitle').textContent = config.subtitle;
          document.getElementById('section-title').textContent = config.sectionTitle;
          document.getElementById('section-description').textContent = config.description;
        }

        // Atualizar menu ativo
        const allMenuItems = document.querySelectorAll('.menu-item');
        allMenuItems.forEach(item => item.classList.remove('active'));
        
        const activeMenuItem = document.querySelector(`[data-form="${formId}"]`);
        if (activeMenuItem) {
          activeMenuItem.classList.add('active');
        }

        // Atualizar lista de ve√≠culos se o menu ve√≠culos for selecionado
        if (formId === 'veiculos') {
          updateVehiclesList();
        }

        // Atualizar lista de pesquisa por placa se o menu pesquisa por placa for selecionado
        if (formId === 'pesquisa-placa') {
          syncPlateSearchList();
        }

        // Configurar campos de data quando o menu de relat√≥rios for selecionado
        if (formId === 'relatorio-os') {
          const dateRangeGroup = document.getElementById('date-range-group');
          const dateEndGroup = document.getElementById('date-end-group');
          const reportResults = document.getElementById('report-results');
          
          if (dateRangeGroup) dateRangeGroup.style.display = 'none';
          if (dateEndGroup) dateEndGroup.style.display = 'none';
          if (reportResults) reportResults.style.display = 'none';
          
          // Resetar sele√ß√£o
          const periodSelect = document.getElementById('report-period');
          if (periodSelect) periodSelect.value = '';
        }
      }

      // Adicionar event listeners aos itens do menu
      document.addEventListener('DOMContentLoaded', function() {
        const menuItems = document.querySelectorAll('.menu-item');
        
        menuItems.forEach(item => {
          item.addEventListener('click', function(e) {
            e.preventDefault();
            const formId = this.getAttribute('data-form');
            if (formId) {
              showForm(formId);
            }
          });
        });

        // Adicionar listener para o formul√°rio de cadastro
        const customerForm = document.querySelector('#form-cadastro-cliente form');
        if (customerForm) {
          customerForm.addEventListener('submit', function(e) {
            e.preventDefault();
            addCustomer();
          });
        }
      });

      // Fun√ß√£o para adicionar cliente
      function addCustomer() {
        const name = document.getElementById('customer-name').value;
        const email = document.getElementById('customer-email').value;
        const phone = document.getElementById('customer-phone').value;
        const plate = document.getElementById('vehicle-plate').value;
        const model = document.getElementById('vehicle-model').value;
        const brand = document.getElementById('vehicle-brand').value;
        const year = document.getElementById('vehicle-year').value;
        const color = document.getElementById('vehicle-color').value;

        if (!name || !email || !plate || !model || !brand) {
          alert('Por favor, preencha todos os campos obrigat√≥rios.');
          return;
        }

        const tableBody = document.getElementById('customers-table-body');
        const newRow = document.createElement('tr');
        const customerId = Date.now(); // ID simples baseado em timestamp

        newRow.innerHTML = `
          <td>${name}</td>
          <td>${email}</td>
          <td>${phone || '-'}</td>
          <td>${plate}</td>
          <td>${model}</td>
          <td>${brand}</td>
          <td>${year || '-'}</td>
          <td>${color || '-'}</td>
          <td>
            <div class="action-buttons">
              <button class="btn-action btn-edit" onclick="editCustomer(${customerId})">Editar</button>
              <button class="btn-action btn-delete" onclick="deleteCustomer(${customerId})">Excluir</button>
            </div>
          </td>
        `;

        tableBody.appendChild(newRow);

        // Atualizar lista de ve√≠culos
        updateVehiclesList();

        // Atualizar lista de pesquisa por placa
        syncPlateSearchList();

        // Limpar formul√°rio
        document.querySelector('#form-cadastro-cliente form').reset();
        
        alert('Cliente cadastrado com sucesso!');
      }

      // Fun√ß√£o para atualizar lista de ve√≠culos baseada nos clientes
      function updateVehiclesList() {
        const customersTable = document.getElementById('customers-table-body');
        const vehiclesTable = document.getElementById('vehicles-table-body');
        
        // Limpar tabela de ve√≠culos
        vehiclesTable.innerHTML = '';

        // Percorrer todas as linhas de clientes e adicionar √† lista de ve√≠culos
        const customerRows = customersTable.querySelectorAll('tr');
        customerRows.forEach((row, index) => {
          const cells = row.querySelectorAll('td');
          const name = cells[0].textContent;
          const email = cells[1].textContent;
          const phone = cells[2].textContent;
          const plate = cells[3].textContent;
          const model = cells[4].textContent;
          const brand = cells[5].textContent;
          const year = cells[6].textContent;
          const color = cells[7].textContent;

          const vehicleRow = document.createElement('tr');
          vehicleRow.innerHTML = `
            <td>${plate}</td>
            <td>${model}</td>
            <td>${brand}</td>
            <td>${year}</td>
            <td>${color}</td>
            <td>${name}</td>
            <td>${phone}</td>
            <td>
              <div class="action-buttons">
                <button class="btn-action btn-edit" onclick="editVehicle('${plate}')">Editar</button>
                <button class="btn-action btn-delete" onclick="deleteVehicle('${plate}')">Excluir</button>
              </div>
            </td>
          `;
          vehiclesTable.appendChild(vehicleRow);
        });
      }

      // Fun√ß√£o para editar cliente
      function editCustomer(id) {
        const row = event.target.closest('tr');
        const cells = row.querySelectorAll('td');
        
        // Preencher o formul√°rio com os dados do cliente
        document.getElementById('customer-name').value = cells[0].textContent;
        document.getElementById('customer-email').value = cells[1].textContent;
        document.getElementById('customer-phone').value = cells[2].textContent;
        document.getElementById('vehicle-plate').value = cells[3].textContent;
        document.getElementById('vehicle-model').value = cells[4].textContent;
        document.getElementById('vehicle-brand').value = cells[5].textContent;
        document.getElementById('vehicle-year').value = cells[6].textContent !== '-' ? cells[6].textContent : '';
        document.getElementById('vehicle-color').value = cells[7].textContent !== '-' ? cells[7].textContent : '';

        // Remover a linha da tabela (ser√° readicionada ao salvar)
        row.remove();

        // Rolar at√© o formul√°rio
        document.querySelector('#form-cadastro-cliente').scrollIntoView({ behavior: 'smooth' });
      }

      // Fun√ß√£o para excluir cliente
      function deleteCustomer(id) {
        if (confirm('Tem certeza que deseja excluir este cliente?')) {
          const row = event.target.closest('tr');
          row.remove();
          // Atualizar lista de ve√≠culos
          updateVehiclesList();
          // Atualizar lista de pesquisa por placa
          syncPlateSearchList();
          alert('Cliente exclu√≠do com sucesso!');
        }
      }

      // Fun√ß√£o para editar ve√≠culo (busca pelo cliente e edita)
      function editVehicle(plate) {
        const customersTable = document.getElementById('customers-table-body');
        const customerRows = customersTable.querySelectorAll('tr');
        
        // Encontrar o cliente com a placa especificada
        for (let row of customerRows) {
          const cells = row.querySelectorAll('td');
          if (cells[3].textContent === plate) {
            // Preencher o formul√°rio e remover a linha
            document.getElementById('customer-name').value = cells[0].textContent;
            document.getElementById('customer-email').value = cells[1].textContent;
            document.getElementById('customer-phone').value = cells[2].textContent !== '-' ? cells[2].textContent : '';
            document.getElementById('vehicle-plate').value = cells[3].textContent;
            document.getElementById('vehicle-model').value = cells[4].textContent;
            document.getElementById('vehicle-brand').value = cells[5].textContent;
            document.getElementById('vehicle-year').value = cells[6].textContent !== '-' ? cells[6].textContent : '';
            document.getElementById('vehicle-color').value = cells[7].textContent !== '-' ? cells[7].textContent : '';

            row.remove();
            
            // Atualizar lista de ve√≠culos
            updateVehiclesList();
            
            // Mudar para o formul√°rio de cadastro
            showForm('cadastro-cliente');
            
            // Rolar at√© o formul√°rio
            document.querySelector('#form-cadastro-cliente').scrollIntoView({ behavior: 'smooth' });
            break;
          }
        }
      }

      // Fun√ß√£o para excluir ve√≠culo (exclui o cliente correspondente)
      function deleteVehicle(plate) {
        if (confirm('Tem certeza que deseja excluir este ve√≠culo e o cliente associado?')) {
          const customersTable = document.getElementById('customers-table-body');
          const customerRows = customersTable.querySelectorAll('tr');
          
          // Encontrar e remover o cliente com a placa especificada
          for (let row of customerRows) {
            const cells = row.querySelectorAll('td');
            if (cells[3].textContent === plate) {
              row.remove();
              // Atualizar lista de ve√≠culos
              updateVehiclesList();
              alert('Ve√≠culo e cliente exclu√≠dos com sucesso!');
              break;
            }
          }
        }
      }

      // Atualizar lista de ve√≠culos quando o menu ve√≠culos for selecionado
      const originalShowForm = showForm;
      showForm = function(formId) {
        originalShowForm(formId);
        if (formId === 'veiculos') {
          updateVehiclesList();
        }
      };

      // Vari√°vel para armazenar o filtro ativo
      let currentFilter = 'all';

      // Fun√ß√£o para definir o filtro de pesquisa
      function setFilter(filterType) {
        currentFilter = filterType;
        
        // Atualizar bot√µes de filtro
        document.querySelectorAll('.filter-btn').forEach(btn => {
          btn.classList.remove('active');
        });
        document.querySelector(`[data-filter="${filterType}"]`).classList.add('active');
        
        // Aplicar filtro
        filterCustomers();
      }

      // Fun√ß√£o para filtrar clientes
      function filterCustomers() {
        const searchInput = document.getElementById('search-customer');
        const searchTerm = searchInput.value.toLowerCase().trim();
        const tableBody = document.getElementById('customers-table-body');
        const rows = tableBody.querySelectorAll('tr');

        rows.forEach(row => {
          const cells = row.querySelectorAll('td');
          let shouldShow = false;

          if (searchTerm === '') {
            shouldShow = true;
          } else {
            if (currentFilter === 'all') {
              // Pesquisar em todos os campos
              const allText = Array.from(cells).slice(0, 8).map(cell => cell.textContent.toLowerCase()).join(' ');
              shouldShow = allText.includes(searchTerm);
            } else {
              // Pesquisar em campo espec√≠fico
              let cellIndex = -1;
              switch(currentFilter) {
                case 'name':
                  cellIndex = 0;
                  break;
                case 'email':
                  cellIndex = 1;
                  break;
                case 'phone':
                  cellIndex = 2;
                  break;
                case 'plate':
                  cellIndex = 3;
                  break;
                case 'model':
                  cellIndex = 4;
                  break;
                case 'brand':
                  cellIndex = 5;
                  break;
              }
              
              if (cellIndex >= 0 && cellIndex < cells.length) {
                const cellText = cells[cellIndex].textContent.toLowerCase();
                shouldShow = cellText.includes(searchTerm);
              }
            }
          }

          row.style.display = shouldShow ? '' : 'none';
        });
      }

      // Fun√ß√£o para limpar pesquisa
      function clearSearch() {
        document.getElementById('search-customer').value = '';
        setFilter('all');
        filterCustomers();
      }

      // Vari√°vel para armazenar o filtro de ve√≠culos ativo
      let currentVehicleFilter = 'all';

      // Fun√ß√£o para definir o filtro de pesquisa de ve√≠culos
      function setVehicleFilter(filterType) {
        currentVehicleFilter = filterType;
        
        // Atualizar bot√µes de filtro
        document.querySelectorAll('[data-filter-vehicle]').forEach(btn => {
          btn.classList.remove('active');
        });
        const filterBtn = document.querySelector(`[data-filter-vehicle="${filterType}"]`);
        if (filterBtn) {
          filterBtn.classList.add('active');
        }
        
        // Aplicar filtro
        filterVehicles();
      }

      // Fun√ß√£o para filtrar ve√≠culos
      function filterVehicles() {
        const searchInput = document.getElementById('search-vehicle');
        if (!searchInput) return;
        
        const searchTerm = searchInput.value.toLowerCase().trim();
        const tableBody = document.getElementById('vehicles-table-body');
        if (!tableBody) return;
        
        const rows = tableBody.querySelectorAll('tr');

        rows.forEach(row => {
          const cells = row.querySelectorAll('td');
          let shouldShow = false;

          if (searchTerm === '') {
            shouldShow = true;
          } else {
            if (currentVehicleFilter === 'all') {
              // Pesquisar em todos os campos
              const allText = Array.from(cells).slice(0, 7).map(cell => cell.textContent.toLowerCase()).join(' ');
              shouldShow = allText.includes(searchTerm);
            } else {
              // Pesquisar em campo espec√≠fico
              let cellIndex = -1;
              switch(currentVehicleFilter) {
                case 'plate':
                  cellIndex = 0;
                  break;
                case 'model':
                  cellIndex = 1;
                  break;
                case 'brand':
                  cellIndex = 2;
                  break;
                case 'year':
                  cellIndex = 3;
                  break;
                case 'color':
                  cellIndex = 4;
                  break;
                case 'customer':
                  cellIndex = 5;
                  break;
              }
              
              if (cellIndex >= 0 && cellIndex < cells.length) {
                const cellText = cells[cellIndex].textContent.toLowerCase();
                shouldShow = cellText.includes(searchTerm);
              }
            }
          }

          row.style.display = shouldShow ? '' : 'none';
        });
      }

      // Fun√ß√£o para limpar pesquisa de ve√≠culos
      function clearVehicleSearch() {
        const searchInput = document.getElementById('search-vehicle');
        if (searchInput) {
          searchInput.value = '';
          setVehicleFilter('all');
          filterVehicles();
        }
      }

      // Vari√°vel para armazenar o filtro de produtos ativo
      let currentProductFilter = 'all';

      // Fun√ß√£o para definir o filtro de pesquisa de produtos
      function setProductFilter(filterType) {
        currentProductFilter = filterType;
        
        // Atualizar bot√µes de filtro
        document.querySelectorAll('[data-filter-product]').forEach(btn => {
          btn.classList.remove('active');
        });
        const filterBtn = document.querySelector(`[data-filter-product="${filterType}"]`);
        if (filterBtn) {
          filterBtn.classList.add('active');
        }
        
        // Aplicar filtro
        filterProducts();
      }

      // Fun√ß√£o para filtrar produtos
      function filterProducts() {
        const searchInput = document.getElementById('search-product');
        if (!searchInput) return;
        
        const searchTerm = searchInput.value.toLowerCase().trim();
        const tableBody = document.getElementById('products-table-body');
        if (!tableBody) return;
        
        const rows = tableBody.querySelectorAll('tr');

        rows.forEach(row => {
          const cells = row.querySelectorAll('td');
          let shouldShow = false;

          if (searchTerm === '') {
            shouldShow = true;
          } else {
            if (currentProductFilter === 'all') {
              // Pesquisar em todos os campos
              const allText = Array.from(cells).slice(0, 8).map(cell => cell.textContent.toLowerCase()).join(' ');
              shouldShow = allText.includes(searchTerm);
            } else {
              // Pesquisar em campo espec√≠fico
              let cellIndex = -1;
              switch(currentProductFilter) {
                case 'code':
                  cellIndex = 0;
                  break;
                case 'name':
                  cellIndex = 1;
                  break;
                case 'category':
                  cellIndex = 2;
                  break;
              }
              
              if (cellIndex >= 0 && cellIndex < cells.length) {
                const cellText = cells[cellIndex].textContent.toLowerCase();
                shouldShow = cellText.includes(searchTerm);
              }
            }
          }

          row.style.display = shouldShow ? '' : 'none';
        });
      }

      // Fun√ß√£o para limpar pesquisa de produtos
      function clearProductSearch() {
        const searchInput = document.getElementById('search-product');
        if (searchInput) {
          searchInput.value = '';
          setProductFilter('all');
          filterProducts();
        }
      }

      // Fun√ß√µes placeholder para editar e excluir produtos
      function editProduct(code) {
        alert('Funcionalidade de edi√ß√£o ser√° implementada. C√≥digo: ' + code);
      }

      function deleteProduct(code) {
        if (confirm('Tem certeza que deseja excluir este produto?')) {
          alert('Funcionalidade de exclus√£o ser√° implementada. C√≥digo: ' + code);
        }
      }

      // Vari√°vel para armazenar o filtro de valores a receber ativo
      let currentReceivableFilter = 'all';

      // Fun√ß√£o para definir o filtro de pesquisa de valores a receber
      function setReceivableFilter(filterType) {
        currentReceivableFilter = filterType;
        
        // Atualizar bot√µes de filtro
        document.querySelectorAll('[data-filter-receivable]').forEach(btn => {
          btn.classList.remove('active');
        });
        const filterBtn = document.querySelector(`[data-filter-receivable="${filterType}"]`);
        if (filterBtn) {
          filterBtn.classList.add('active');
        }
        
        // Aplicar filtro
        filterReceivables();
      }

      // Fun√ß√£o para filtrar valores a receber
      function filterReceivables() {
        const searchInput = document.getElementById('search-receivables');
        if (!searchInput) return;
        
        const searchTerm = searchInput.value.toLowerCase().trim();
        const tableBody = document.getElementById('receivables-table-body');
        if (!tableBody) return;
        
        const rows = tableBody.querySelectorAll('tr');

        rows.forEach(row => {
          const cells = row.querySelectorAll('td');
          let shouldShow = false;

          if (searchTerm === '') {
            shouldShow = true;
          } else {
            if (currentReceivableFilter === 'all') {
              // Pesquisar em todos os campos
              const allText = Array.from(cells).slice(0, 7).map(cell => cell.textContent.toLowerCase()).join(' ');
              shouldShow = allText.includes(searchTerm);
            } else {
              // Pesquisar em campo espec√≠fico
              let cellIndex = -1;
              switch(currentReceivableFilter) {
                case 'os':
                  cellIndex = 0;
                  break;
                case 'customer':
                  cellIndex = 2;
                  break;
                case 'plate':
                  cellIndex = 4;
                  break;
              }
              
              if (cellIndex >= 0 && cellIndex < cells.length) {
                const cellText = cells[cellIndex].textContent.toLowerCase();
                shouldShow = cellText.includes(searchTerm);
              }
            }
          }

          row.style.display = shouldShow ? '' : 'none';
        });

        // Atualizar total
        updateReceivablesTotal();
      }

      // Fun√ß√£o para atualizar o total a receber
      function updateReceivablesTotal() {
        const tableBody = document.getElementById('receivables-table-body');
        if (!tableBody) return;
        
        const visibleRows = Array.from(tableBody.querySelectorAll('tr')).filter(row => row.style.display !== 'none');
        let total = 0;

        visibleRows.forEach(row => {
          const cells = row.querySelectorAll('td');
          if (cells.length > 6) {
            const valueText = cells[6].textContent.replace('R$', '').replace(/\./g, '').replace(',', '.').trim();
            const value = parseFloat(valueText);
            if (!isNaN(value)) {
              total += value;
            }
          }
        });

        // Atualizar o rodap√© da tabela
        const tfootCell = document.querySelector('#form-valores-receber tfoot td:nth-child(7)');
        if (tfootCell) {
          const formattedTotal = total.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');
          tfootCell.textContent = 'R$ ' + formattedTotal;
        }
      }

      // Fun√ß√£o para limpar pesquisa de valores a receber
      function clearReceivablesSearch() {
        const searchInput = document.getElementById('search-receivables');
        if (searchInput) {
          searchInput.value = '';
          setReceivableFilter('all');
          filterReceivables();
        }
      }

      // Fun√ß√£o para receber pagamento
      function receivePayment(osNumber) {
        if (confirm('Confirmar recebimento do pagamento da OS ' + osNumber + '?')) {
          // Remover a linha da tabela
          const tableBody = document.getElementById('receivables-table-body');
          const rows = tableBody.querySelectorAll('tr');
          
          for (let row of rows) {
            const cells = row.querySelectorAll('td');
            if (cells[0].textContent === osNumber) {
              row.remove();
              updateReceivablesTotal();
              alert('Pagamento recebido com sucesso!');
              break;
            }
          }
        }
      }

      // Fun√ß√£o para visualizar OS
      function viewOS(osNumber) {
        alert('Visualiza√ß√£o da OS ' + osNumber + ' ser√° implementada.');
      }

      // Vari√°vel para armazenar o filtro de valores pagos ativo
      let currentPaidFilter = 'all';

      // Fun√ß√£o para definir o filtro de pesquisa de valores pagos
      function setPaidFilter(filterType) {
        currentPaidFilter = filterType;
        
        // Atualizar bot√µes de filtro
        document.querySelectorAll('[data-filter-paid]').forEach(btn => {
          btn.classList.remove('active');
        });
        const filterBtn = document.querySelector(`[data-filter-paid="${filterType}"]`);
        if (filterBtn) {
          filterBtn.classList.add('active');
        }
        
        // Aplicar filtro
        filterPaid();
      }

      // Fun√ß√£o para filtrar valores pagos
      function filterPaid() {
        const searchInput = document.getElementById('search-paid');
        if (!searchInput) return;
        
        const searchTerm = searchInput.value.toLowerCase().trim();
        const tableBody = document.getElementById('paid-table-body');
        if (!tableBody) return;
        
        const rows = tableBody.querySelectorAll('tr');

        rows.forEach(row => {
          const cells = row.querySelectorAll('td');
          let shouldShow = false;

          if (searchTerm === '') {
            shouldShow = true;
          } else {
            if (currentPaidFilter === 'all') {
              // Pesquisar em todos os campos
              const allText = Array.from(cells).slice(0, 8).map(cell => cell.textContent.toLowerCase()).join(' ');
              shouldShow = allText.includes(searchTerm);
            } else {
              // Pesquisar em campo espec√≠fico
              let cellIndex = -1;
              switch(currentPaidFilter) {
                case 'os':
                  cellIndex = 0;
                  break;
                case 'customer':
                  cellIndex = 2;
                  break;
                case 'plate':
                  cellIndex = 4;
                  break;
              }
              
              if (cellIndex >= 0 && cellIndex < cells.length) {
                const cellText = cells[cellIndex].textContent.toLowerCase();
                shouldShow = cellText.includes(searchTerm);
              }
            }
          }

          row.style.display = shouldShow ? '' : 'none';
        });

        // Atualizar total
        updatePaidTotal();
      }

      // Fun√ß√£o para atualizar o total recebido
      function updatePaidTotal() {
        const tableBody = document.getElementById('paid-table-body');
        if (!tableBody) return;
        
        const visibleRows = Array.from(tableBody.querySelectorAll('tr')).filter(row => row.style.display !== 'none');
        let total = 0;

        visibleRows.forEach(row => {
          const cells = row.querySelectorAll('td');
          if (cells.length > 6) {
            const valueText = cells[6].textContent.replace('R$', '').replace(/\./g, '').replace(',', '.').trim();
            const value = parseFloat(valueText);
            if (!isNaN(value)) {
              total += value;
            }
          }
        });

        // Atualizar o rodap√© da tabela
        const tfootCell = document.querySelector('#form-valores-pago tfoot td:nth-child(7)');
        if (tfootCell) {
          const formattedTotal = total.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');
          tfootCell.textContent = 'R$ ' + formattedTotal;
        }
      }

      // Fun√ß√£o para limpar pesquisa de valores pagos
      function clearPaidSearch() {
        const searchInput = document.getElementById('search-paid');
        if (searchInput) {
          searchInput.value = '';
          setPaidFilter('all');
          filterPaid();
        }
      }

      // Fun√ß√£o para visualizar OS paga
      function viewOSPaid(osNumber) {
        alert('Visualiza√ß√£o da OS ' + osNumber + ' ser√° implementada.');
      }

      // Vari√°vel para armazenar o filtro de OS pendentes ativo
      let currentPendingOSFilter = 'all';

      // Fun√ß√£o para definir o filtro de pesquisa de OS pendentes
      function setPendingOSFilter(filterType) {
        currentPendingOSFilter = filterType;
        
        // Atualizar bot√µes de filtro
        document.querySelectorAll('[data-filter-pending]').forEach(btn => {
          btn.classList.remove('active');
        });
        const filterBtn = document.querySelector(`[data-filter-pending="${filterType}"]`);
        if (filterBtn) {
          filterBtn.classList.add('active');
        }
        
        // Aplicar filtro
        filterPendingOS();
      }

      // Fun√ß√£o para filtrar OS pendentes
      function filterPendingOS() {
        const searchInput = document.getElementById('search-pending-os');
        if (!searchInput) return;
        
        const searchTerm = searchInput.value.toLowerCase().trim();
        const tableBody = document.getElementById('pending-os-table-body');
        if (!tableBody) return;
        
        const rows = tableBody.querySelectorAll('tr');

        rows.forEach(row => {
          const cells = row.querySelectorAll('td');
          let shouldShow = false;

          if (searchTerm === '') {
            shouldShow = true;
          } else {
            if (currentPendingOSFilter === 'all') {
              // Pesquisar em todos os campos
              const allText = Array.from(cells).slice(0, 7).map(cell => cell.textContent.toLowerCase()).join(' ');
              shouldShow = allText.includes(searchTerm);
            } else {
              // Pesquisar em campo espec√≠fico
              let cellIndex = -1;
              switch(currentPendingOSFilter) {
                case 'os':
                  cellIndex = 0;
                  break;
                case 'customer':
                  cellIndex = 2;
                  break;
                case 'plate':
                  cellIndex = 4;
                  break;
              }
              
              if (cellIndex >= 0 && cellIndex < cells.length) {
                const cellText = cells[cellIndex].textContent.toLowerCase();
                shouldShow = cellText.includes(searchTerm);
              }
            }
          }

          row.style.display = shouldShow ? '' : 'none';
        });
      }

      // Fun√ß√£o para limpar pesquisa de OS pendentes
      function clearPendingOSSearch() {
        const searchInput = document.getElementById('search-pending-os');
        if (searchInput) {
          searchInput.value = '';
          setPendingOSFilter('all');
          filterPendingOS();
        }
      }

      // Fun√ß√£o para selecionar OS e preencher formul√°rio de cancelamento
      function selectOSForCancel(osNumber, plate, customerName, vehicle) {
        // Mudar para o formul√°rio de cancelar
        showForm('cancelar-os');
        
        // Preencher os campos do formul√°rio
        setTimeout(() => {
          document.getElementById('cancel-os-number').value = osNumber;
          document.getElementById('cancel-vehicle-plate').value = plate;
          
          // Destacar os campos preenchidos
          const osField = document.getElementById('cancel-os-number');
          const plateField = document.getElementById('cancel-vehicle-plate');
          
          osField.style.backgroundColor = '#E8F5E9';
          plateField.style.backgroundColor = '#E8F5E9';
          
          setTimeout(() => {
            osField.style.backgroundColor = '';
            plateField.style.backgroundColor = '';
          }, 2000);
        }, 100);
      }

      // Vari√°vel para armazenar o filtro de OS pendentes para finalizar
      let currentPendingOSFinishFilter = 'all';

      // Fun√ß√£o para definir o filtro de pesquisa de OS pendentes para finalizar
      function setPendingOSFinishFilter(filterType) {
        currentPendingOSFinishFilter = filterType;
        
        // Atualizar bot√µes de filtro
        document.querySelectorAll('[data-filter-pending-finish]').forEach(btn => {
          btn.classList.remove('active');
        });
        const filterBtn = document.querySelector(`[data-filter-pending-finish="${filterType}"]`);
        if (filterBtn) {
          filterBtn.classList.add('active');
        }
        
        // Aplicar filtro
        filterPendingOSFinish();
      }

      // Fun√ß√£o para filtrar OS pendentes para finalizar
      function filterPendingOSFinish() {
        const searchInput = document.getElementById('search-pending-os-finish');
        if (!searchInput) return;
        
        const searchTerm = searchInput.value.toLowerCase().trim();
        const tableBody = document.getElementById('pending-os-finish-table-body');
        if (!tableBody) return;
        
        const rows = tableBody.querySelectorAll('tr');

        rows.forEach(row => {
          const cells = row.querySelectorAll('td');
          let shouldShow = false;

          if (searchTerm === '') {
            shouldShow = true;
          } else {
            if (currentPendingOSFinishFilter === 'all') {
              // Pesquisar em todos os campos
              const allText = Array.from(cells).slice(0, 7).map(cell => cell.textContent.toLowerCase()).join(' ');
              shouldShow = allText.includes(searchTerm);
            } else {
              // Pesquisar em campo espec√≠fico
              let cellIndex = -1;
              switch(currentPendingOSFinishFilter) {
                case 'os':
                  cellIndex = 0;
                  break;
                case 'customer':
                  cellIndex = 2;
                  break;
                case 'plate':
                  cellIndex = 4;
                  break;
              }
              
              if (cellIndex >= 0 && cellIndex < cells.length) {
                const cellText = cells[cellIndex].textContent.toLowerCase();
                shouldShow = cellText.includes(searchTerm);
              }
            }
          }

          row.style.display = shouldShow ? '' : 'none';
        });
      }

      // Fun√ß√£o para limpar pesquisa de OS pendentes para finalizar
      function clearPendingOSFinishSearch() {
        const searchInput = document.getElementById('search-pending-os-finish');
        if (searchInput) {
          searchInput.value = '';
          setPendingOSFinishFilter('all');
          filterPendingOSFinish();
        }
      }

      // Armazenar dados da OS selecionada
      let selectedOSData = null;

      // Fun√ß√£o para selecionar OS e preencher formul√°rio de finaliza√ß√£o
      function selectOSForFinish(osNumber, plate, customerName, vehicle, services, value) {
        // Armazenar dados para uso na finaliza√ß√£o
        selectedOSData = {
          osNumber: osNumber,
          plate: plate,
          customerName: customerName,
          vehicle: vehicle,
          services: services,
          value: value
        };

        // Mudar para o formul√°rio de finalizar
        showForm('finalizar-os');
        
        // Preencher os campos do formul√°rio
        setTimeout(() => {
          document.getElementById('finish-os-number').value = osNumber;
          document.getElementById('finish-vehicle-plate').value = plate;
          document.getElementById('finish-services').value = services;
          document.getElementById('finish-total').value = value;
          
          // Destacar os campos preenchidos
          const osField = document.getElementById('finish-os-number');
          const plateField = document.getElementById('finish-vehicle-plate');
          const servicesField = document.getElementById('finish-services');
          const totalField = document.getElementById('finish-total');
          
          osField.style.backgroundColor = '#E8F5E9';
          plateField.style.backgroundColor = '#E8F5E9';
          servicesField.style.backgroundColor = '#E8F5E9';
          totalField.style.backgroundColor = '#E8F5E9';
          
          setTimeout(() => {
            osField.style.backgroundColor = '';
            plateField.style.backgroundColor = '';
            servicesField.style.backgroundColor = '';
            totalField.style.backgroundColor = '';
          }, 2000);
        }, 100);
      }

      // Fun√ß√£o para finalizar ordem de servi√ßo
      function finalizeOrder() {
        const osNumber = document.getElementById('finish-os-number').value;
        const plate = document.getElementById('finish-vehicle-plate').value;
        const services = document.getElementById('finish-services').value;
        const observations = document.getElementById('finish-observations').value;
        const total = document.getElementById('finish-total').value;
        const payment = document.getElementById('finish-payment').value;

        // Valida√ß√£o
        if (!osNumber || !plate || !services || !total || !payment) {
          alert('Por favor, preencha todos os campos obrigat√≥rios.');
          return;
        }

        if (confirm('Confirmar finaliza√ß√£o da OS ' + osNumber + '?')) {
          // Remover da lista de pendentes (valores a receber)
          const receivablesTable = document.getElementById('receivables-table-body');
          if (receivablesTable) {
            const rows = receivablesTable.querySelectorAll('tr');
            for (let row of rows) {
              const cells = row.querySelectorAll('td');
              if (cells[0].textContent === osNumber) {
                row.remove();
                updateReceivablesTotal();
                break;
              }
            }
          }

          // Remover da lista de pendentes no formul√°rio de finalizar
          const pendingFinishTable = document.getElementById('pending-os-finish-table-body');
          if (pendingFinishTable) {
            const rows = pendingFinishTable.querySelectorAll('tr');
            for (let row of rows) {
              const cells = row.querySelectorAll('td');
              if (cells[0].textContent === osNumber) {
                row.remove();
                break;
              }
            }
          }

          // Adicionar √† lista de valores pagos
          const paidTable = document.getElementById('paid-table-body');
          if (paidTable) {
            const today = new Date();
            const day = String(today.getDate()).padStart(2, '0');
            const month = String(today.getMonth() + 1).padStart(2, '0');
            const year = today.getFullYear();
            const paymentDate = `${day}/${month}/${year}`;
            // Buscar data da OS na tabela de pendentes
            let osDate = paymentDate;
            if (selectedOSData) {
              const pendingTable = document.getElementById('pending-os-finish-table-body');
              if (pendingTable) {
                const rows = pendingTable.querySelectorAll('tr');
                for (let row of rows) {
                  const cells = row.querySelectorAll('td');
                  if (cells[0].textContent === osNumber) {
                    osDate = cells[1].textContent;
                    break;
                  }
                }
              }
            }
            
            const customerName = selectedOSData ? selectedOSData.customerName : 'Cliente';
            const vehicleName = selectedOSData ? selectedOSData.vehicle : 'Ve√≠culo';

            const newRow = document.createElement('tr');
            newRow.innerHTML = `
              <td>${osNumber}</td>
              <td>${osDate}</td>
              <td>${customerName}</td>
              <td>${vehicleName}</td>
              <td>${plate}</td>
              <td>${services}</td>
              <td>R$ ${parseFloat(total).toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.')}</td>
              <td>${paymentDate}</td>
              <td><span style="color: #50C878; font-weight: bold;">Pago</span></td>
              <td>
                <div class="action-buttons">
                  <button class="btn-action btn-delete" onclick="viewOSPaid('${osNumber}')">Ver OS</button>
                </div>
              </td>
            `;
            paidTable.appendChild(newRow);
            updatePaidTotal();
          }

          // Limpar dados selecionados
          selectedOSData = null;

          // Limpar formul√°rio
          document.getElementById('finish-os-form').reset();
          
          alert('Ordem de Servi√ßo ' + osNumber + ' finalizada com sucesso!');
        }
      }

      // Vari√°veis para filtros de pesquisa unificada
      let currentAllOSFilter = 'all';
      let currentStatusFilter = 'all-status';

      // Fun√ß√£o para definir o filtro de pesquisa de todas as OS
      function setAllOSFilter(filterType) {
        currentAllOSFilter = filterType;
        
        // Atualizar bot√µes de filtro
        document.querySelectorAll('[data-filter-all-os]').forEach(btn => {
          btn.classList.remove('active');
        });
        const filterBtn = document.querySelector(`[data-filter-all-os="${filterType}"]`);
        if (filterBtn) {
          filterBtn.classList.add('active');
        }
        
        // Aplicar filtro
        filterAllOS();
      }

      // Fun√ß√£o para definir o filtro de status
      function setStatusFilter(statusType) {
        currentStatusFilter = statusType;
        
        // Atualizar bot√µes de filtro de status
        document.querySelectorAll('[data-status-filter]').forEach(btn => {
          btn.classList.remove('active');
        });
        const statusBtn = document.querySelector(`[data-status-filter="${statusType}"]`);
        if (statusBtn) {
          statusBtn.classList.add('active');
        }
        
        // Aplicar filtro
        filterAllOS();
      }

      // Fun√ß√£o para filtrar todas as OS
      function filterAllOS() {
        const searchInput = document.getElementById('search-all-os');
        if (!searchInput) return;
        
        const searchTerm = searchInput.value.toLowerCase().trim();
        const tableBody = document.getElementById('all-os-table-body');
        if (!tableBody) return;
        
        const rows = tableBody.querySelectorAll('tr');

        rows.forEach(row => {
          const cells = row.querySelectorAll('td');
          const rowStatus = row.getAttribute('data-status');
          let shouldShow = false;

          // Filtro por status
          if (currentStatusFilter !== 'all-status') {
            const statusMap = {
              'pendente': 'pendente',
              'pago': 'pago',
              'cancelado': 'cancelado'
            };
            if (rowStatus !== statusMap[currentStatusFilter]) {
              row.style.display = 'none';
              return;
            }
          }

          // Filtro por texto
          if (searchTerm === '') {
            shouldShow = true;
          } else {
            if (currentAllOSFilter === 'all') {
              // Pesquisar em todos os campos
              const allText = Array.from(cells).slice(0, 7).map(cell => cell.textContent.toLowerCase()).join(' ');
              shouldShow = allText.includes(searchTerm);
            } else {
              // Pesquisar em campo espec√≠fico
              let cellIndex = -1;
              switch(currentAllOSFilter) {
                case 'os':
                  cellIndex = 0;
                  break;
                case 'customer':
                  cellIndex = 2;
                  break;
                case 'plate':
                  cellIndex = 4;
                  break;
                case 'status':
                  cellIndex = 7;
                  break;
              }
              
              if (cellIndex >= 0 && cellIndex < cells.length) {
                const cellText = cells[cellIndex].textContent.toLowerCase();
                shouldShow = cellText.includes(searchTerm);
              }
            }
          }

          row.style.display = shouldShow ? '' : 'none';
        });
      }

      // Fun√ß√£o para limpar pesquisa de todas as OS
      function clearAllOSSearch() {
        const searchInput = document.getElementById('search-all-os');
        if (searchInput) {
          searchInput.value = '';
          setAllOSFilter('all');
          setStatusFilter('all-status');
          filterAllOS();
        }
      }

      // Fun√ß√£o para visualizar detalhes da OS
      function viewOSDetails(osNumber) {
        // Buscar dados da OS na tabela
        const tableBody = document.getElementById('all-os-table-body');
        if (!tableBody) {
          alert('Visualiza√ß√£o da OS ' + osNumber + ' ser√° implementada.');
          return;
        }

        const rows = tableBody.querySelectorAll('tr');
        let osData = null;

        for (let row of rows) {
          const cells = row.querySelectorAll('td');
          if (cells[0].textContent === osNumber) {
            osData = {
              osNumber: cells[0].textContent,
              data: cells[1].textContent,
              cliente: cells[2].textContent,
              veiculo: cells[3].textContent,
              placa: cells[4].textContent,
              servicos: cells[5].textContent,
              valor: cells[6].textContent,
              status: cells[7].textContent
            };
            break;
          }
        }

        if (osData) {
          const details = `
ORDEM DE SERVI√áO: ${osData.osNumber}
Data: ${osData.data}
Cliente: ${osData.cliente}
Ve√≠culo: ${osData.veiculo}
Placa: ${osData.placa}
Servi√ßos: ${osData.servicos}
Valor: ${osData.valor}
Status: ${osData.status}
          `;
          alert(details);
        } else {
          alert('OS ' + osNumber + ' n√£o encontrada.');
        }
      }

      // Vari√°vel para armazenar o filtro de pesquisa por placa
      let currentPlateFilter = 'all';

      // Fun√ß√£o para definir o filtro de pesquisa por placa
      function setPlateFilter(filterType) {
        currentPlateFilter = filterType;
        
        // Atualizar bot√µes de filtro
        document.querySelectorAll('[data-filter-plate]').forEach(btn => {
          btn.classList.remove('active');
        });
        const filterBtn = document.querySelector(`[data-filter-plate="${filterType}"]`);
        if (filterBtn) {
          filterBtn.classList.add('active');
        }
        
        // Aplicar filtro
        filterByPlate();
      }

      // Fun√ß√£o para filtrar por placa
      function filterByPlate() {
        const searchInput = document.getElementById('search-by-plate');
        if (!searchInput) return;
        
        const searchTerm = searchInput.value.toLowerCase().trim();
        const tableBody = document.getElementById('plate-search-table-body');
        if (!tableBody) return;
        
        const rows = tableBody.querySelectorAll('tr');

        rows.forEach(row => {
          const cells = row.querySelectorAll('td');
          let shouldShow = false;

          if (searchTerm === '') {
            // Se n√£o h√° termo de busca, mostrar todos
            shouldShow = true;
          } else {
            if (currentPlateFilter === 'all') {
              // Pesquisar em todos os campos
              const allText = Array.from(cells).slice(0, 8).map(cell => cell.textContent.toLowerCase()).join(' ');
              shouldShow = allText.includes(searchTerm);
            } else {
              // Pesquisar em campo espec√≠fico
              let cellIndex = -1;
              switch(currentPlateFilter) {
                case 'plate':
                  cellIndex = 0;
                  break;
                case 'model':
                  cellIndex = 1;
                  break;
                case 'brand':
                  cellIndex = 2;
                  break;
                case 'customer':
                  cellIndex = 5;
                  break;
              }
              
              if (cellIndex >= 0 && cellIndex < cells.length) {
                const cellText = cells[cellIndex].textContent.toLowerCase();
                shouldShow = cellText.includes(searchTerm);
              }
            }
          }

          row.style.display = shouldShow ? '' : 'none';
        });
      }

      // Fun√ß√£o para limpar pesquisa por placa
      function clearPlateSearch() {
        const searchInput = document.getElementById('search-by-plate');
        if (searchInput) {
          searchInput.value = '';
          setPlateFilter('all');
          filterByPlate();
        }
      }

      // Fun√ß√£o para visualizar detalhes do ve√≠culo por placa
      function viewVehicleByPlate(plate) {
        const tableBody = document.getElementById('plate-search-table-body');
        if (!tableBody) {
          alert('Detalhes do ve√≠culo com placa ' + plate + ' ser√£o implementados.');
          return;
        }

        const rows = tableBody.querySelectorAll('tr');
        let vehicleData = null;

        for (let row of rows) {
          const cells = row.querySelectorAll('td');
          if (cells[0].textContent === plate) {
            vehicleData = {
              placa: cells[0].textContent,
              modelo: cells[1].textContent,
              marca: cells[2].textContent,
              ano: cells[3].textContent,
              cor: cells[4].textContent,
              cliente: cells[5].textContent,
              email: cells[6].textContent,
              telefone: cells[7].textContent
            };
            break;
          }
        }

        if (vehicleData) {
          const details = `
DETALHES DO VE√çCULO
Placa: ${vehicleData.placa}
Modelo: ${vehicleData.modelo}
Marca: ${vehicleData.marca}
Ano: ${vehicleData.ano}
Cor: ${vehicleData.cor}

DADOS DO CLIENTE
Nome: ${vehicleData.cliente}
E-mail: ${vehicleData.email}
Telefone: ${vehicleData.telefone}
          `;
          alert(details);
        } else {
          alert('Ve√≠culo com placa ' + plate + ' n√£o encontrado.');
        }
      }

      // Fun√ß√£o para gerar relat√≥rio de OS
      function generateReport() {
        try {
          const period = document.getElementById('report-period').value;
          const startDateInput = document.getElementById('report-start-date');
          const endDateInput = document.getElementById('report-end-date');
          const dateRangeGroup = document.getElementById('date-range-group');
          const dateEndGroup = document.getElementById('date-end-group');
          const reportResults = document.getElementById('report-results');

          if (!period) {
            if (reportResults) reportResults.style.display = 'none';
            if (dateRangeGroup) dateRangeGroup.style.display = 'none';
            if (dateEndGroup) dateEndGroup.style.display = 'none';
            return;
          }

          // Mostrar campos de data baseado no per√≠odo
          const today = new Date();
          today.setHours(23, 59, 59, 999); // Fim do dia
          let startDate, endDate, periodText;

          if (period === 'semanal') {
            // √öltimos 7 dias
            startDate = new Date(today);
            startDate.setDate(today.getDate() - 7);
            startDate.setHours(0, 0, 0, 0); // In√≠cio do dia
            endDate = new Date(today);
            periodText = `Semanal - ${formatDate(startDate)} a ${formatDate(endDate)}`;
            if (dateRangeGroup) dateRangeGroup.style.display = 'flex';
            if (dateEndGroup) dateEndGroup.style.display = 'flex';
          } else if (period === 'mensal') {
            // M√™s atual
            startDate = new Date(today.getFullYear(), today.getMonth(), 1);
            startDate.setHours(0, 0, 0, 0);
            endDate = new Date(today);
            periodText = `Mensal - ${formatDate(startDate)} a ${formatDate(endDate)}`;
            if (dateRangeGroup) dateRangeGroup.style.display = 'flex';
            if (dateEndGroup) dateEndGroup.style.display = 'flex';
          } else if (period === 'anual') {
            // Ano atual
            startDate = new Date(today.getFullYear(), 0, 1);
            startDate.setHours(0, 0, 0, 0);
            endDate = new Date(today);
            periodText = `Anual - ${formatDate(startDate)} a ${formatDate(endDate)}`;
            if (dateRangeGroup) dateRangeGroup.style.display = 'flex';
            if (dateEndGroup) dateEndGroup.style.display = 'flex';
          }

          // Se h√° datas selecionadas manualmente, usar elas
          if (startDateInput && startDateInput.value) {
            const manualStart = new Date(startDateInput.value);
            manualStart.setHours(0, 0, 0, 0);
            startDate = manualStart;
          }
          if (endDateInput && endDateInput.value) {
            const manualEnd = new Date(endDateInput.value);
            manualEnd.setHours(23, 59, 59, 999);
            endDate = manualEnd;
          }

          // Atualizar campos de data
          if (startDateInput) startDateInput.value = formatDateForInput(startDate);
          if (endDateInput) endDateInput.value = formatDateForInput(endDate);

          // Buscar OS do per√≠odo - buscar em todas as tabelas
          const allOSTable = document.getElementById('all-os-table-body');
          const receivablesTable = document.getElementById('receivables-table-body');
          const paidTable = document.getElementById('paid-table-body');
          const reportTableBody = document.getElementById('report-table-body');
          
          if (!reportTableBody) {
            alert('Erro: Tabela de relat√≥rio n√£o encontrada.');
            return;
          }
          
          reportTableBody.innerHTML = '';

          let totalOS = 0;
          let totalValue = 0;
          let pendingCount = 0;
          let paidCount = 0;
          let cancelledCount = 0;

          // Fun√ß√£o auxiliar para processar uma linha de OS
          function processOSRow(row, isPaid = false) {
            const cells = row.querySelectorAll('td');
            if (cells.length >= 7) {
              const dateStr = cells[1].textContent.trim();
              const osDate = parseDate(dateStr);
              
              if (!osDate || isNaN(osDate.getTime())) {
                return; // Data inv√°lida, pular
              }

              // Normalizar datas para compara√ß√£o (apenas data, sem hora)
              const osDateOnly = new Date(osDate.getFullYear(), osDate.getMonth(), osDate.getDate());
              const startDateOnly = new Date(startDate.getFullYear(), startDate.getMonth(), startDate.getDate());
              const endDateOnly = new Date(endDate.getFullYear(), endDate.getMonth(), endDate.getDate());
              
              // Verificar se a OS est√° no per√≠odo
              if (osDateOnly >= startDateOnly && osDateOnly <= endDateOnly) {
                const osNumber = cells[0].textContent;
                const date = cells[1].textContent;
                const customer = cells[2].textContent;
                const vehicle = cells[3].textContent;
                const plate = cells[4].textContent;
                const services = cells[5].textContent;
                const valueText = cells[6].textContent;
                const value = parseFloat(valueText.replace('R$', '').replace(/\./g, '').replace(',', '.').trim());

                const newRow = document.createElement('tr');
                let statusColor = '#DC3545';
                let statusText = 'Pendente';
                
                if (isPaid || (cells.length > 7 && cells[7].textContent.toLowerCase().includes('pago'))) {
                  statusColor = '#50C878';
                  statusText = 'Pago';
                  paidCount++;
                } else if (cells.length > 7 && cells[7].textContent.toLowerCase().includes('cancelado')) {
                  statusColor = '#9BA4B5';
                  statusText = 'Cancelado';
                  cancelledCount++;
                } else {
                  pendingCount++;
                }

                newRow.innerHTML = `
                  <td>${osNumber}</td>
                  <td>${date}</td>
                  <td>${customer}</td>
                  <td>${vehicle}</td>
                  <td>${plate}</td>
                  <td>${services}</td>
                  <td>${valueText}</td>
                  <td><span style="color: ${statusColor}; font-weight: bold;">${statusText}</span></td>
                `;
                reportTableBody.appendChild(newRow);

                totalOS++;
                if (!isNaN(value)) {
                  totalValue += value;
                }
              }
            }
          }

          // Coletar todas as OS de todas as fontes
          const allOSData = new Map(); // Usar Map para evitar duplicatas

          // Processar tabela de todas as OS
          if (allOSTable) {
            const rows = allOSTable.querySelectorAll('tr');
            rows.forEach(row => {
              const cells = row.querySelectorAll('td');
              if (cells.length >= 7) {
                const osNumber = cells[0].textContent.trim();
                if (osNumber && !allOSData.has(osNumber)) {
                  allOSData.set(osNumber, {
                    row: row,
                    isPaid: cells.length > 7 && cells[7].textContent.toLowerCase().includes('pago')
                  });
                }
              }
            });
          }

          // Processar tabela de valores a receber (pendentes)
          if (receivablesTable) {
            const rows = receivablesTable.querySelectorAll('tr');
            rows.forEach(row => {
              const cells = row.querySelectorAll('td');
              if (cells.length >= 7) {
                const osNumber = cells[0].textContent.trim();
                if (osNumber && !allOSData.has(osNumber)) {
                  allOSData.set(osNumber, {
                    row: row,
                    isPaid: false
                  });
                }
              }
            });
          }

          // Processar tabela de valores pagos
          if (paidTable) {
            const rows = paidTable.querySelectorAll('tr');
            rows.forEach(row => {
              const cells = row.querySelectorAll('td');
              if (cells.length >= 7) {
                const osNumber = cells[0].textContent.trim();
                if (osNumber && !allOSData.has(osNumber)) {
                  allOSData.set(osNumber, {
                    row: row,
                    isPaid: true
                  });
                }
              }
            });
          }

          // Processar tabela de OS pendentes para cancelar
          const pendingCancelTable = document.getElementById('pending-os-table-body');
          if (pendingCancelTable) {
            const rows = pendingCancelTable.querySelectorAll('tr');
            rows.forEach(row => {
              const cells = row.querySelectorAll('td');
              if (cells.length >= 7) {
                const osNumber = cells[0].textContent.trim();
                if (osNumber && !allOSData.has(osNumber)) {
                  allOSData.set(osNumber, {
                    row: row,
                    isPaid: false
                  });
                }
              }
            });
          }

          // Processar tabela de OS pendentes para finalizar
          const pendingFinishTable = document.getElementById('pending-os-finish-table-body');
          if (pendingFinishTable) {
            const rows = pendingFinishTable.querySelectorAll('tr');
            rows.forEach(row => {
              const cells = row.querySelectorAll('td');
              if (cells.length >= 7) {
                const osNumber = cells[0].textContent.trim();
                if (osNumber && !allOSData.has(osNumber)) {
                  allOSData.set(osNumber, {
                    row: row,
                    isPaid: false
                  });
                }
              }
            });
          }

          // Processar todas as OS coletadas
          allOSData.forEach((osInfo, osNumber) => {
            processOSRow(osInfo.row, osInfo.isPaid);
          });

          // Atualizar estat√≠sticas
          const reportTitle = document.getElementById('report-title');
          const reportPeriodText = document.getElementById('report-period-text');
          const reportTotalOS = document.getElementById('report-total-os');
          const reportPending = document.getElementById('report-pending');
          const reportPaid = document.getElementById('report-paid');
          const reportCancelled = document.getElementById('report-cancelled');
          const reportTotalValue = document.getElementById('report-total-value');
          const reportFooterTotal = document.getElementById('report-footer-total');

          if (reportTitle) reportTitle.textContent = 'Relat√≥rio de Ordens de Servi√ßo';
          if (reportPeriodText) reportPeriodText.textContent = periodText;
          if (reportTotalOS) reportTotalOS.textContent = totalOS;
          if (reportPending) reportPending.textContent = pendingCount;
          if (reportPaid) reportPaid.textContent = paidCount;
          if (reportCancelled) reportCancelled.textContent = cancelledCount;
          
          const formattedTotal = totalValue.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');
          if (reportTotalValue) reportTotalValue.textContent = 'R$ ' + formattedTotal;
          if (reportFooterTotal) reportFooterTotal.textContent = 'R$ ' + formattedTotal;

          // Mostrar resultados
          if (reportResults) {
            reportResults.style.display = 'block';
            reportResults.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }

          if (totalOS === 0) {
            alert('Nenhuma ordem de servi√ßo encontrada para o per√≠odo selecionado.');
          }
        } catch (error) {
          console.error('Erro ao gerar relat√≥rio:', error);
          alert('Erro ao gerar relat√≥rio. Por favor, tente novamente.');
        }
      }

      // Fun√ß√£o para formatar data para exibi√ß√£o
      function formatDate(date) {
        const day = String(date.getDate()).padStart(2, '0');
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const year = date.getFullYear();
        return `${day}/${month}/${year}`;
      }

      // Fun√ß√£o para formatar data para input
      function formatDateForInput(date) {
        const day = String(date.getDate()).padStart(2, '0');
        const month = String(date.getMonth() + 1).padStart(2, '0');
        const year = date.getFullYear();
        return `${year}-${month}-${day}`;
      }

      // Fun√ß√£o para parsear data do formato brasileiro
      function parseDate(dateStr) {
        const parts = dateStr.split('/');
        if (parts.length === 3) {
          return new Date(parseInt(parts[2]), parseInt(parts[1]) - 1, parseInt(parts[0]));
        }
        return new Date();
      }

      // Fun√ß√£o para exportar relat√≥rio em PDF
      function exportReport() {
        const period = document.getElementById('report-period').value;
        if (!period) {
          alert('Por favor, selecione um per√≠odo e gere o relat√≥rio primeiro.');
          return;
        }

        const reportResults = document.getElementById('report-results');
        if (reportResults.style.display === 'none') {
          alert('Por favor, gere o relat√≥rio primeiro.');
          return;
        }

        // Criar uma nova janela para impress√£o com o logo
        const printWindow = window.open('', '_blank');
        const logoImg = document.querySelector('#report-results img');
        const logoSrc = logoImg ? logoImg.src : '';
        
        printWindow.document.write(`
          <!DOCTYPE html>
          <html>
          <head>
            <title>Relat√≥rio de Ordens de Servi√ßo</title>
            <style>
              @media print {
                @page { margin: 20mm; }
              }
              body { font-family: Arial, sans-serif; padding: 20px; }
              .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
              .logo { max-height: 60px; }
              table { width: 100%; border-collapse: collapse; margin-top: 20px; }
              th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
              th { background-color: #f2f2f2; }
            </style>
          </head>
          <body>
            <div class="header">
              <h1>Relat√≥rio de Ordens de Servi√ßo</h1>
              ${logoSrc ? `<img src="${logoSrc}" class="logo" alt="DIHMEC" />` : '<h2>DIHMEC</h2>'}
            </div>
            ${reportResults.innerHTML}
          </body>
          </html>
        `);
        printWindow.document.close();
        printWindow.focus();
        setTimeout(() => {
          printWindow.print();
        }, 250);
      }

      // Fun√ß√µes para formul√°rio de Nova OS
      function addOSItem() {
        const tableBody = document.getElementById('os-items-table-body');
        const newRow = document.createElement('tr');
        newRow.innerHTML = `
          <td><input type="number" class="os-item-qty" min="1" value="1" style="width: 60px; padding: 6px;" onchange="calculateItemTotal(this)" /></td>
          <td><input type="text" class="os-item-desc" placeholder="Descri√ß√£o do produto/servi√ßo" style="width: 100%; padding: 6px;" /></td>
          <td><input type="number" class="os-item-price" step="0.01" min="0" placeholder="0.00" style="width: 100px; padding: 6px;" onchange="calculateItemTotal(this)" /></td>
          <td class="os-item-total">R$ 0,00</td>
          <td>
            <button type="button" class="btn-action btn-delete" onclick="removeOSItem(this)" style="padding: 4px 8px; font-size: 10pt;">Remover</button>
          </td>
        `;
        tableBody.appendChild(newRow);
      }

      function removeOSItem(button) {
        const row = button.closest('tr');
        row.remove();
        calculateOSTotal();
      }

      function calculateItemTotal(input) {
        const row = input.closest('tr');
        const qty = parseFloat(row.querySelector('.os-item-qty').value) || 0;
        const price = parseFloat(row.querySelector('.os-item-price').value) || 0;
        const total = qty * price;
        const totalCell = row.querySelector('.os-item-total');
        const formattedTotal = total.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');
        totalCell.textContent = 'R$ ' + formattedTotal;
        calculateOSTotal();
      }

      function calculateOSTotal() {
        const rows = document.querySelectorAll('#os-items-table-body tr');
        let total = 0;
        rows.forEach(row => {
          const totalText = row.querySelector('.os-item-total').textContent;
          const value = parseFloat(totalText.replace('R$', '').replace(/\./g, '').replace(',', '.').trim());
          if (!isNaN(value)) {
            total += value;
          }
        });
        const formattedTotal = total.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');
        document.getElementById('os-total-value').textContent = 'R$ ' + formattedTotal;
      }

      function resetOSForm() {
        const tableBody = document.getElementById('os-items-table-body');
        tableBody.innerHTML = `
          <tr>
            <td><input type="number" class="os-item-qty" min="1" value="1" style="width: 60px; padding: 6px;" onchange="calculateItemTotal(this)" /></td>
            <td><input type="text" class="os-item-desc" placeholder="Descri√ß√£o do produto/servi√ßo" style="width: 100%; padding: 6px;" /></td>
            <td><input type="number" class="os-item-price" step="0.01" min="0" placeholder="0.00" style="width: 100px; padding: 6px;" onchange="calculateItemTotal(this)" /></td>
            <td class="os-item-total">R$ 0,00</td>
            <td>
              <button type="button" class="btn-action btn-delete" onclick="removeOSItem(this)" style="padding: 4px 8px; font-size: 10pt;">Remover</button>
            </td>
          </tr>
        `;
        calculateOSTotal();
      }

      function generateOSPDF() {
        const form = document.getElementById('new-os-form');
        const formData = new FormData(form);
        
        // Validar campos obrigat√≥rios
        if (!formData.get('osCustomerName') || !formData.get('osVehiclePlate')) {
          alert('Por favor, preencha os campos obrigat√≥rios (Cliente e Placa).');
          return;
        }

        const osType = formData.get('os-type') === 'pedido' ? 'PEDIDO' : 'OR√áAMENTO';
        const emissionDate = document.getElementById('os-emission-date').value;
        const dateObj = new Date(emissionDate);
        const formattedDate = dateObj.toLocaleDateString('pt-BR');

        // Coletar itens
        const items = [];
        const rows = document.querySelectorAll('#os-items-table-body tr');
        rows.forEach(row => {
          const qty = row.querySelector('.os-item-qty').value;
          const desc = row.querySelector('.os-item-desc').value;
          const price = row.querySelector('.os-item-price').value;
          if (desc && price) {
            items.push({ qty, desc, price });
          }
        });

        if (items.length === 0) {
          alert('Por favor, adicione pelo menos um produto ou servi√ßo.');
          return;
        }

        // Calcular total
        let total = 0;
        items.forEach(item => {
          total += parseFloat(item.qty) * parseFloat(item.price);
        });

        // Criar HTML para PDF
        const logoImg = document.querySelector('.sidebar-logo img');
        const logoSrc = logoImg ? logoImg.src : '';
        
        const pdfHTML = `
          <!DOCTYPE html>
          <html>
          <head>
            <title>${osType} - DIHMEC</title>
            <style>
              @media print {
                @page { margin: 15mm; size: A4; }
                body { margin: 0; }
              }
              * { margin: 0; padding: 0; box-sizing: border-box; }
              body { font-family: Arial, sans-serif; padding: 20px; font-size: 11pt; }
              .header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px; border-bottom: 2px solid #000; padding-bottom: 15px; }
              .logo-section { display: flex; align-items: center; gap: 15px; }
              .logo { max-height: 80px; max-width: 150px; }
              .company-info { flex: 1; }
              .company-info h2 { font-size: 14pt; margin-bottom: 5px; }
              .company-info p { font-size: 10pt; margin: 2px 0; }
              .phone { font-size: 12pt; font-weight: bold; margin-top: 5px; }
              .document-type { margin: 15px 0; }
              .document-type label { margin-right: 20px; }
              .form-section { margin: 15px 0; }
              .form-row { display: flex; gap: 15px; margin-bottom: 10px; }
              .form-group { flex: 1; }
              .form-group label { font-weight: bold; display: block; margin-bottom: 3px; }
              .form-group input, .form-group span { display: block; width: 100%; padding: 5px; border-bottom: 1px solid #000; min-height: 25px; }
              .items-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
              .items-table th, .items-table td { border: 1px solid #000; padding: 8px; text-align: left; }
              .items-table th { background-color: #f0f0f0; font-weight: bold; }
              .items-table .qty-col { width: 60px; text-align: center; }
              .items-table .desc-col { width: auto; }
              .items-table .price-col { width: 100px; text-align: right; }
              .items-table .total-col { width: 100px; text-align: right; }
              .footer { margin-top: 30px; display: flex; justify-content: space-between; }
              .footer-left { flex: 1; }
              .footer-right { text-align: right; }
              .total-line { font-weight: bold; font-size: 12pt; margin-top: 10px; }
              .signature-line { margin-top: 40px; border-top: 1px solid #000; padding-top: 5px; }
            </style>
          </head>
          <body>
            <div class="header">
              <div class="logo-section">
                ${logoSrc ? `<img src="${logoSrc}" class="logo" alt="DIHMEC" />` : '<h1 style="font-size: 24pt;">DIHMEC</h1>'}
                <div class="company-info">
                  <h2>SERVI√áOS MEC√ÇNICO</h2>
                  <h2>INJE√á√ÉO ELETR√îNICA DIESEL E FLEX MULTIMARCAS</h2>
                  <p class="phone">üìû (11) 99508-6683 Edimar</p>
                  <p>Rua Cafel√¢ndia, 796 Eng. Novo - Barueri SP</p>
                </div>
              </div>
            </div>

            <div class="document-type">
              <label><input type="checkbox" ${osType === 'PEDIDO' ? 'checked' : ''} disabled /> PEDIDO</label>
              <label><input type="checkbox" ${osType === 'OR√áAMENTO' ? 'checked' : ''} disabled /> OR√áAMENTO</label>
              <span style="margin-left: 30px;">Data de Emiss√£o: <strong>${formattedDate}</strong></span>
            </div>

            <div class="form-section">
              <div class="form-row">
                <div class="form-group">
                  <label>Cliente:</label>
                  <span>${formData.get('osCustomerName') || ''}</span>
                </div>
                <div class="form-group">
                  <label>CNPJ/CPF:</label>
                  <span>${formData.get('osCustomerDoc') || ''}</span>
                </div>
                <div class="form-group">
                  <label>Fone:</label>
                  <span>${formData.get('osCustomerPhone') || ''}</span>
                </div>
              </div>
              <div class="form-row">
                <div class="form-group">
                  <label>Ve√≠culo:</label>
                  <span>${formData.get('osVehicleName') || ''}</span>
                </div>
                <div class="form-group">
                  <label>Ano:</label>
                  <span>${formData.get('osVehicleYear') || ''}</span>
                </div>
                <div class="form-group">
                  <label>Placa:</label>
                  <span>${formData.get('osVehiclePlate') || ''}</span>
                </div>
                <div class="form-group">
                  <label>Km:</label>
                  <span>${formData.get('osVehicleKm') || ''}</span>
                </div>
              </div>
            </div>

            <table class="items-table">
              <thead>
                <tr>
                  <th class="qty-col">Quant</th>
                  <th class="desc-col">Descri√ß√£o dos Produtos</th>
                  <th class="price-col">Pr.Unit.</th>
                  <th class="total-col">Total</th>
                </tr>
              </thead>
              <tbody>
                ${items.map(item => {
                  const itemTotal = parseFloat(item.qty) * parseFloat(item.price);
                  const formattedPrice = parseFloat(item.price).toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');
                  const formattedItemTotal = itemTotal.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');
                  return `
                    <tr>
                      <td class="qty-col">${item.qty}</td>
                      <td class="desc-col">${item.desc}</td>
                      <td class="price-col">R$ ${formattedPrice}</td>
                      <td class="total-col">R$ ${formattedItemTotal}</td>
                    </tr>
                  `;
                }).join('')}
              </tbody>
            </table>

            <div class="footer">
              <div class="footer-left">
                <p>Agradecemos a Prefer√™ncia.</p>
                <div class="signature-line">
                  <label>Assinatura Cliente:</label>
                </div>
              </div>
              <div class="footer-right">
                <div class="total-line">
                  VALOR TOTAL R$ ${total.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.')}
                </div>
              </div>
            </div>
          </body>
          </html>
        `;

        // Abrir em nova janela para impress√£o/PDF
        const printWindow = window.open('', '_blank');
        printWindow.document.write(pdfHTML);
        printWindow.document.close();
        printWindow.focus();
        setTimeout(() => {
          printWindow.print();
        }, 250);
      }

      function saveOS() {
        const form = document.getElementById('new-os-form');
        const formData = new FormData(form);
        
        if (!formData.get('osCustomerName') || !formData.get('osVehiclePlate')) {
          alert('Por favor, preencha os campos obrigat√≥rios (Cliente e Placa).');
          return;
        }

        // Gerar n√∫mero de OS
        const today = new Date();
        const year = today.getFullYear();
        const osNumber = 'OS-' + year + '-' + String(Date.now()).slice(-3);
        
        // Coletar dados
        const osData = {
          osNumber: osNumber,
          type: formData.get('os-type'),
          date: document.getElementById('os-emission-date').value,
          customer: formData.get('osCustomerName'),
          doc: formData.get('osCustomerDoc'),
          phone: formData.get('osCustomerPhone'),
          vehicle: formData.get('osVehicleName'),
          year: formData.get('osVehicleYear'),
          plate: formData.get('osVehiclePlate'),
          km: formData.get('osVehicleKm'),
          items: []
        };

        const rows = document.querySelectorAll('#os-items-table-body tr');
        rows.forEach(row => {
          const qty = row.querySelector('.os-item-qty').value;
          const desc = row.querySelector('.os-item-desc').value;
          const price = row.querySelector('.os-item-price').value;
          if (desc && price) {
            osData.items.push({ qty, desc, price });
          }
        });

        // Adicionar √† lista de valores a receber
        const receivablesTable = document.getElementById('receivables-table-body');
        if (receivablesTable) {
          const dateObj = new Date(osData.date);
          const formattedDate = dateObj.toLocaleDateString('pt-BR');
          let totalValue = 0;
          osData.items.forEach(item => {
            totalValue += parseFloat(item.qty) * parseFloat(item.price);
          });
          const formattedTotal = totalValue.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');

          const newRow = document.createElement('tr');
          newRow.innerHTML = `
            <td>${osNumber}</td>
            <td>${formattedDate}</td>
            <td>${osData.customer}</td>
            <td>${osData.vehicle}</td>
            <td>${osData.plate}</td>
            <td>${osData.items.map(i => i.desc).join(', ')}</td>
            <td>R$ ${formattedTotal}</td>
            <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
            <td>
              <div class="action-buttons">
                <button class="btn-action btn-edit" onclick="receivePayment('${osNumber}')">Receber</button>
                <button class="btn-action btn-delete" onclick="viewOS('${osNumber}')">Ver OS</button>
              </div>
            </td>
          `;
          receivablesTable.appendChild(newRow);
          updateReceivablesTotal();
        }

        // Adicionar √† lista de pesquisa unificada
        const allOSTable = document.getElementById('all-os-table-body');
        if (allOSTable) {
          const dateObj = new Date(osData.date);
          const formattedDate = dateObj.toLocaleDateString('pt-BR');
          let totalValue = 0;
          osData.items.forEach(item => {
            totalValue += parseFloat(item.qty) * parseFloat(item.price);
          });
          const formattedTotal = totalValue.toFixed(2).replace('.', ',').replace(/\B(?=(\d{3})+(?!\d))/g, '.');

          const newRow = document.createElement('tr');
          newRow.setAttribute('data-status', 'pendente');
          newRow.innerHTML = `
            <td>${osNumber}</td>
            <td>${formattedDate}</td>
            <td>${osData.customer}</td>
            <td>${osData.vehicle}</td>
            <td>${osData.plate}</td>
            <td>${osData.items.map(i => i.desc).join(', ')}</td>
            <td>R$ ${formattedTotal}</td>
            <td><span style="color: #DC3545; font-weight: bold;">Pendente</span></td>
            <td>
              <div class="action-buttons">
                <button class="btn-action btn-edit" onclick="viewOSDetails('${osNumber}')">Ver</button>
                <button class="btn-action btn-edit" onclick="selectOSForFinish('${osNumber}', '${osData.plate}', '${osData.customer}', '${osData.vehicle}', '${osData.items.map(i => i.desc).join(', ')}', '${totalValue.toFixed(2)}')">Finalizar</button>
                <button class="btn-action btn-delete" onclick="selectOSForCancel('${osNumber}', '${osData.plate}', '${osData.customer}', '${osData.vehicle}')">Cancelar</button>
              </div>
            </td>
          `;
          allOSTable.appendChild(newRow);
        }

        alert(`Ordem de Servi√ßo ${osNumber} criada com sucesso!`);
        form.reset();
        resetOSForm();
      }

      // Inicializar data de emiss√£o com data atual
      document.addEventListener('DOMContentLoaded', function() {
        const emissionDate = document.getElementById('os-emission-date');
        if (emissionDate) {
          const today = new Date();
          emissionDate.value = today.toISOString().split('T')[0];
        }
      });

      // Sincronizar lista de pesquisa por placa com lista de clientes
      function syncPlateSearchList() {
        const customersTable = document.getElementById('customers-table-body');
        const plateSearchTable = document.getElementById('plate-search-table-body');
        
        if (!customersTable || !plateSearchTable) return;
        
        // Limpar tabela de pesquisa por placa
        plateSearchTable.innerHTML = '';
        
        // Percorrer todas as linhas de clientes e adicionar √† lista de pesquisa por placa
        const customerRows = customersTable.querySelectorAll('tr');
        customerRows.forEach((row) => {
          const cells = row.querySelectorAll('td');
          const name = cells[0].textContent;
          const email = cells[1].textContent;
          const phone = cells[2].textContent;
          const plate = cells[3].textContent;
          const model = cells[4].textContent;
          const brand = cells[5].textContent;
          const year = cells[6].textContent;
          const color = cells[7].textContent;

          const vehicleRow = document.createElement('tr');
          vehicleRow.innerHTML = `
            <td>${plate}</td>
            <td>${model}</td>
            <td>${brand}</td>
            <td>${year}</td>
            <td>${color}</td>
            <td>${name}</td>
            <td>${email}</td>
            <td>${phone}</td>
            <td>
              <div class="action-buttons">
                <button class="btn-action btn-edit" onclick="viewVehicleByPlate('${plate}')">Ver Detalhes</button>
              </div>
            </td>
          `;
          plateSearchTable.appendChild(vehicleRow);
        });
      }

    </script>
  </body>
</html>
